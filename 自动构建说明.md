# âœ… è‡ªåŠ¨æ„å»ºé…ç½®å®Œæˆ

## ğŸ‰ å·²å®Œæˆé…ç½®

ç°åœ¨æ¯æ¬¡å¯åŠ¨å¼€å‘æœåŠ¡å™¨æ—¶ï¼Œ**sharedåŒ…ä¼šè‡ªåŠ¨æ„å»º**ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨è¿è¡Œæ„å»ºå‘½ä»¤äº†ï¼

## ğŸ“‹ é…ç½®è¯¦æƒ…

### âœ… å„ç«¯å·²æ·»åŠ è‡ªåŠ¨æ„å»º

é€šè¿‡ npm/pnpm çš„ `pre` é’©å­ï¼Œåœ¨æ¯ä¸ªç«¯çš„ dev å‘½ä»¤å‰è‡ªåŠ¨æ„å»º shared åŒ…ï¼š

#### Backend (Next.js)
```bash
pnpm dev             # è‡ªåŠ¨æ„å»ºsharedï¼Œç„¶åå¯åŠ¨
```

#### Desktop (Electron)
```bash
pnpm electron:dev    # è‡ªåŠ¨æ„å»ºsharedï¼Œç„¶åå¯åŠ¨
```

#### Mobile (React Native)
```bash
pnpm dev             # è‡ªåŠ¨æ„å»ºsharedï¼Œç„¶åå¯åŠ¨
pnpm start           # è‡ªåŠ¨æ„å»ºsharedï¼Œç„¶åå¯åŠ¨
```

#### Miniapp (Taro)
```bash
pnpm dev             # è‡ªåŠ¨æ„å»ºsharedï¼Œç„¶åå¯åŠ¨
pnpm dev:weapp       # è‡ªåŠ¨æ„å»ºsharedï¼Œç„¶åå¯åŠ¨
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹å¼1: åœ¨å„ç«¯ç›®å½•ç›´æ¥å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# Backend
cd packages/backend
pnpm dev

# Desktop
cd packages/desktop
pnpm electron:dev

# Mobile
cd packages/mobile
pnpm dev

# Miniapp
cd packages/miniapp
pnpm dev
```

### æ–¹å¼2: åœ¨æ ¹ç›®å½•å¯åŠ¨

```bash
# å¯åŠ¨backend
pnpm dev:backend

# å¯åŠ¨desktop
pnpm dev:desktop

# å¯åŠ¨mobile
pnpm dev:mobile

# å¯åŠ¨miniapp
pnpm dev:miniapp
```

## âš¡ å·¥ä½œæµç¨‹

ç°åœ¨çš„å¼€å‘æµç¨‹å˜å¾—éå¸¸ç®€å•ï¼š

### 1ï¸âƒ£ ä¿®æ”¹é…ç½®
ç¼–è¾‘ `packages/shared/src/constants/index.ts`

### 2ï¸âƒ£ é‡å¯åº”ç”¨
åœæ­¢å½“å‰åº”ç”¨ï¼ˆCtrl+Cï¼‰ï¼Œç„¶åé‡æ–°å¯åŠ¨ï¼š
```bash
pnpm electron:dev  # æˆ–å…¶ä»–ç«¯çš„devå‘½ä»¤
```

**å°±è¿™æ ·ï¼sharedåŒ…ä¼šè‡ªåŠ¨é‡æ–°æ„å»ºï¼Œé…ç½®ç«‹å³ç”Ÿæ•ˆï¼** âœ¨

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### npm/pnpm çš„ pre é’©å­
npmå’Œpnpméƒ½æ”¯æŒåœ¨è¿è¡ŒæŸä¸ªå‘½ä»¤å‰è‡ªåŠ¨æ‰§è¡Œ `pre<å‘½ä»¤å>` è„šæœ¬ã€‚

ä¾‹å¦‚ï¼š
```json
{
  "scripts": {
    "predev": "cd ../shared && pnpm build",
    "dev": "next dev"
  }
}
```

å½“ä½ è¿è¡Œ `pnpm dev` æ—¶ï¼š
1. é¦–å…ˆæ‰§è¡Œ `predev` â†’ æ„å»º shared åŒ…
2. ç„¶åæ‰§è¡Œ `dev` â†’ å¯åŠ¨å¼€å‘æœåŠ¡å™¨

## ğŸ“ æ³¨æ„äº‹é¡¹

### âš ï¸ é¦–æ¬¡å¯åŠ¨ä¼šæ…¢ä¸€ç‚¹
ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šå…ˆæ„å»º shared åŒ…ï¼ˆå¤§çº¦1-2ç§’ï¼‰ï¼Œç„¶åæ‰å¯åŠ¨åº”ç”¨ã€‚è¿™æ˜¯æ­£å¸¸çš„ã€‚

### âœ… çƒ­æ›´æ–°
- **ä¿®æ”¹sharedé…ç½®**ï¼šéœ€è¦é‡å¯åº”ç”¨
- **ä¿®æ”¹ç»„ä»¶ä»£ç **ï¼šæ”¯æŒçƒ­æ›´æ–°ï¼Œä¸éœ€è¦é‡å¯

### ğŸ”„ æ‰‹åŠ¨æ„å»ºï¼ˆä¸€èˆ¬ä¸éœ€è¦ï¼‰
å¦‚æœä½ æƒ³æ‰‹åŠ¨æ„å»º shared åŒ…ï¼š
```bash
cd packages/shared
pnpm build
```

## ğŸ¯ å¯¹æ¯”

### ä¹‹å‰çš„æµç¨‹ âŒ
```bash
# ä¿®æ”¹é…ç½®
vim packages/shared/src/constants/index.ts

# æ‰‹åŠ¨æ„å»ºsharedåŒ…
cd packages/shared
pnpm build

# é‡å¯åº”ç”¨
cd packages/desktop
pnpm electron:dev
```

### ç°åœ¨çš„æµç¨‹ âœ…
```bash
# ä¿®æ”¹é…ç½®
vim packages/shared/src/constants/index.ts

# é‡å¯åº”ç”¨ï¼ˆè‡ªåŠ¨æ„å»ºï¼‰
cd packages/desktop
pnpm electron:dev
```

**å°‘äº†ä¸€æ­¥ï¼Œæ›´ç®€å•ï¼** ğŸ‰

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ä¿®æ”¹é…ç½®åç›´æ¥é‡å¯**ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ„å»º
2. **ä½¿ç”¨å„ç«¯çš„ dev å‘½ä»¤**ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨å¤„ç†æ„å»º
3. **å¦‚æœé…ç½®æ²¡ç”Ÿæ•ˆ**ï¼Œæ£€æŸ¥æ˜¯å¦æ­£ç¡®é‡å¯äº†åº”ç”¨

## ğŸ“ æ‰©å±•

å¦‚æœä½ æƒ³ç›‘å¬ shared åŒ…çš„å˜åŒ–å¹¶è‡ªåŠ¨é‡æ–°æ„å»ºï¼ˆå®æ—¶çƒ­æ›´æ–°ï¼‰ï¼Œå¯ä»¥ï¼š

```bash
# åœ¨ä¸€ä¸ªç»ˆç«¯
cd packages/shared
pnpm dev  # ç›‘å¬æ¨¡å¼

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯
cd packages/desktop
pnpm electron:dev
```

è¿™æ ·ä¿®æ”¹é…ç½®åä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼Œä½†ä»éœ€è¦æ‰‹åŠ¨åˆ·æ–°åº”ç”¨ã€‚

---

âœ¨ **ç°åœ¨å¼€å‘ä½“éªŒæ›´æµç•…äº†ï¼**

