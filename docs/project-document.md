# LyricNote - æ—¥è¯­éŸ³ä¹è¯†æ›²åº”ç”¨å®Œæ•´é¡¹ç›®æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **æ–‡æ¡£åç§°** | LyricNote æ—¥è¯­éŸ³ä¹è¯†æ›²åº”ç”¨å®Œæ•´é¡¹ç›®æ–‡æ¡£ |
| **é¡¹ç›®åç§°** | LyricNote - ä¸“æ³¨æ—¥è¯­æ­Œæ›²çš„AIæ™ºèƒ½å¬æ­Œè¯†æ›²App |
| **æ–‡æ¡£ç‰ˆæœ¬** | v3.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2025å¹´9æœˆ21æ—¥ |
| **æœ€åä¿®æ”¹** | 2025å¹´9æœˆ21æ—¥ |
| **çŠ¶æ€** | å·²å®Œæˆ |
| **æ ¸å¿ƒç‰¹è‰²** | æ—¥è¯­æ­Œè¯å¤šè¯­è¨€æ˜¾ç¤ºï¼ˆæ±‰å­—/å‡å/ç½—é©¬éŸ³ï¼‰ |

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

### äº§å“åç§°
**LyricNote** - ä¸“æ³¨æ—¥è¯­æ­Œæ›²çš„AIæ™ºèƒ½å¬æ­Œè¯†æ›²åº”ç”¨

### äº§å“å®šä½
ä¸€æ¬¾ä¸“é—¨é’ˆå¯¹æ—¥è¯­æ­Œæ›²ä¼˜åŒ–çš„React Native Expoå¬æ­Œè¯†æ›²åº”ç”¨ï¼Œé€šè¿‡å…ˆè¿›çš„éŸ³é¢‘è¯†åˆ«æŠ€æœ¯å’ŒDeepSeekå¤§æ¨¡å‹ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿè¯†åˆ«æ—¥è¯­éŸ³ä¹ï¼Œå¹¶æä¾›**æ±‰å­—ã€å‡åã€ç½—é©¬éŸ³ä¸‰ç§æ˜¾ç¤ºæ¨¡å¼**çš„æ™ºèƒ½æ­Œè¯åŒ¹é…å’ŒåŒæ­¥æ˜¾ç¤ºåŠŸèƒ½ã€‚ç‰¹åˆ«ä¸ºå­¦ä¹ æ—¥è¯­ã€å–œçˆ±æ—¥æœ¬éŸ³ä¹çš„ç”¨æˆ·ç¾¤ä½“è®¾è®¡ã€‚

**æ ¸å¿ƒç‰¹è‰²**ï¼š
- ğŸŒ **æ—¥è¯­ä¸“ç²¾** - ä¸“é—¨ä¼˜åŒ–æ—¥è¯­æ­Œæ›²è¯†åˆ«å’Œå¤„ç†
- ğŸ“ **ä¸‰è¯­åˆ‡æ¢** - æ±‰å­—ã€å‡åã€ç½—é©¬éŸ³ä¸€é”®åˆ‡æ¢
- ğŸ¤– **AIæ™ºèƒ½** - DeepSeekå¤§æ¨¡å‹é©±åŠ¨çš„æ—¥è¯­æ­Œè¯æ™ºèƒ½å¤„ç†
- ğŸµ **ç§’çº§è¯†åˆ«** - å¿«é€Ÿå‡†ç¡®è¯†åˆ«æ—¥è¯­éŸ³ä¹
- ğŸ¤ **KTVæ•‘æ˜Ÿ** - æ”¯æŒæ—¥è¯­KTVåœºæ™¯ï¼Œå¤šè¯­è¨€æ˜¾ç¤º
- ğŸ¨ **æ­Œè¯æ‰‹å¸** - AIè¾…åŠ©çš„ç²¾ç¾æ—¥è¯­æ­Œè¯æ”¶è—å’Œåˆ›æ„ç¼–è¾‘
- ğŸ“± **å³æ—¶åŒæ­¥** - å®æ—¶è·Ÿéšæ­Œæ›²è¿›åº¦æ˜¾ç¤ºæ­Œè¯
- ğŸ’« **åˆ›æ„åˆ†äº«** - åˆ†äº«ä¸ªæ€§åŒ–æ—¥è¯­æ­Œè¯æ‰‹å¸ä½œå“

### æŠ€æœ¯æ ˆ
- **ç”¨æˆ·ç«¯**: React Native Expo
- **ç®¡ç†ç«¯**: Next.js
- **åç«¯**: Next.js API Routes + Node.js
- **AIå¼•æ“**: é˜¿é‡Œäº‘è°ƒç”¨DeepSeekå¤§æ¨¡å‹APIï¼ˆæ—¥è¯­ä¸“é—¨ä¼˜åŒ–ï¼‰
- **æ•°æ®åº“**: PostgreSQL + Redis
- **æ–‡ä»¶å­˜å‚¨**: é˜¿é‡Œäº‘OSS
- **æ—¥è¯­å¤„ç†**: Kuroshiro.js + MeCabå½¢æ€ç´ è§£æ

---

## ğŸ‘¥ ç”¨æˆ·è§’è‰²ä¸éœ€æ±‚

### 2.1 ç”¨æˆ·è§’è‰²å®šä¹‰

#### 2.1.1 æ—¥è¯­å­¦ä¹ è€…
- **æè¿°**: æ­£åœ¨å­¦ä¹ æ—¥è¯­ï¼Œå–œæ¬¢é€šè¿‡æ—¥è¯­æ­Œæ›²æå‡è¯­è¨€èƒ½åŠ›çš„ç”¨æˆ·
- **ä¸»è¦éœ€æ±‚**: 
  - å¿«é€Ÿè¯†åˆ«æ—¥è¯­æ­Œæ›²
  - æ±‰å­—ã€å‡åã€ç½—é©¬éŸ³å¤šè§’åº¦å­¦ä¹ æ­Œè¯
  - å‘éŸ³è¾…åŠ©å’Œè¯­è¨€å­¦ä¹ åŠŸèƒ½
  - æ”¶è—å’Œå¤ä¹ å–œæ¬¢çš„æ—¥è¯­æ­Œè¯
- **ä½¿ç”¨åœºæ™¯**: æ—¥å¸¸å­¦ä¹ ã€å¬æ­Œç»ƒä¹ ã€è¯­è¨€å¤ä¹ 
- **æŠ€æœ¯æ°´å¹³**: åŸºç¡€ç§»åŠ¨åº”ç”¨ä½¿ç”¨èƒ½åŠ›

#### 2.1.2 æ—¥æœ¬éŸ³ä¹çˆ±å¥½è€…
- **æè¿°**: çƒ­çˆ±æ—¥æœ¬éŸ³ä¹æ–‡åŒ–ï¼Œç»å¸¸å¬æ—¥è¯­æ­Œæ›²çš„ç”¨æˆ·
- **ä¸»è¦éœ€æ±‚**:
  - ç²¾å‡†è¯†åˆ«å„ç±»æ—¥è¯­æ­Œæ›²ï¼ˆJ-POPã€åŠ¨æ¼«æ­Œæ›²ã€ä¼ ç»ŸéŸ³ä¹ç­‰ï¼‰
  - ç†è§£æ­Œè¯å«ä¹‰ï¼Œäº«å—éŸ³ä¹æ–‡åŒ–
  - åœ¨KTVåœºæ™¯ä¸‹èƒ½å¤Ÿå‡†ç¡®æ¼”å”±æ—¥è¯­æ­Œæ›²
  - æ”¶é›†å’Œæ•´ç†å–œçˆ±çš„æ—¥è¯­æ­Œæ›²
- **ä½¿ç”¨åœºæ™¯**: æ—¥å¸¸å¬æ­Œã€KTVåŒ…å¢ã€éŸ³ä¹åˆ†äº«
- **æŠ€æœ¯æ°´å¹³**: ç†Ÿç»ƒçš„ç§»åŠ¨åº”ç”¨ä½¿ç”¨èƒ½åŠ›

#### 2.1.3 KTVç”¨æˆ·ï¼ˆæ—¥è¯­æ­Œæ›²ï¼‰
- **æè¿°**: ç»å¸¸åœ¨KTVæ¼”å”±æ—¥è¯­æ­Œæ›²çš„ç”¨æˆ·
- **ä¸»è¦éœ€æ±‚**: 
  - å¿«é€Ÿè¯†åˆ«æ­£åœ¨æ’­æ”¾çš„æ—¥è¯­æ­Œæ›²
  - å¤§å­—ä½“æ˜¾ç¤ºæ­Œè¯ï¼Œæ”¯æŒå‡åè¯»éŸ³
  - ç½—é©¬éŸ³è¾…åŠ©å‘éŸ³
  - æ¸…æ™°çš„æ­Œè¯åŒæ­¥æ˜¾ç¤º
- **ä½¿ç”¨åœºæ™¯**: KTVåŒ…å¢ã€å®¶åº­èšä¼šã€æœ‹å‹èšä¼š
- **æŠ€æœ¯æ°´å¹³**: åŸºç¡€ç§»åŠ¨åº”ç”¨ä½¿ç”¨èƒ½åŠ›

#### 2.1.4 å†…å®¹åˆ›ä½œè€…
- **æè¿°**: åˆ¶ä½œæ—¥è¯­ç›¸å…³å†…å®¹çš„åšä¸»ã€æ•™å¸ˆã€ç¿»è¯‘è€…ç­‰
- **ä¸»è¦éœ€æ±‚**:
  - é«˜ç²¾åº¦æ—¥è¯­æ­Œè¯è¯†åˆ«å’Œå¤„ç†
  - AIè¾…åŠ©çš„æ—¥è¯­æ­Œè¯æ‰‹å¸åˆ›ä½œ
  - å¤šè¯­è¨€æ­Œè¯å±•ç¤ºå’Œåˆ†äº«åŠŸèƒ½
  - æ‰¹é‡æ—¥è¯­æ­Œè¯å¤„ç†å’Œç®¡ç†
- **ä½¿ç”¨åœºæ™¯**: å†…å®¹åˆ¶ä½œã€æ•™å­¦å‡†å¤‡ã€æ–‡åŒ–æ¨å¹¿
- **æŠ€æœ¯æ°´å¹³**: é«˜çº§ç§»åŠ¨åº”ç”¨ä½¿ç”¨èƒ½åŠ›

#### 2.1.5 ç®¡ç†å‘˜è§’è‰²
- **æè¿°**: ç³»ç»Ÿç®¡ç†å‘˜ï¼Œè´Ÿè´£æ—¥è¯­å†…å®¹ç®¡ç†å’Œç”¨æˆ·ç®¡ç†
- **ä¸»è¦éœ€æ±‚**:
  - æ—¥è¯­æ­Œè¯è´¨é‡ç®¡æ§å’Œå®¡æ ¸
  - ç”¨æˆ·ç®¡ç†å’Œæƒé™æ§åˆ¶
  - æ—¥è¯­AIæ¨¡å‹ç®¡ç†å’Œä¼˜åŒ–
  - æ•°æ®åˆ†æå’Œç³»ç»Ÿç›‘æ§
- **ä½¿ç”¨åœºæ™¯**: åå°ç®¡ç†ã€å†…å®¹è¿è¥ã€æ•°æ®åˆ†æ
- **æŠ€æœ¯æ°´å¹³**: ä¸“ä¸šç³»ç»Ÿç®¡ç†èƒ½åŠ›

---

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½è§„æ ¼

### 3.1 æ—¥è¯­éŸ³ä¹è¯†åˆ«åŠŸèƒ½ (FR-001) â­ **æ ¸å¿ƒåŠŸèƒ½**
**ä¼˜å…ˆçº§**: æœ€é«˜  
**éœ€æ±‚æè¿°**: ä¸“é—¨ä¼˜åŒ–çš„æ—¥è¯­éŸ³ä¹è¯†åˆ«ç³»ç»Ÿï¼Œæ”¯æŒå„ç±»æ—¥è¯­æ­Œæ›²ç±»å‹

**è¯¦ç»†éœ€æ±‚**:
- [FR-001-01] ç”¨æˆ·ç‚¹å‡»è¯†åˆ«æŒ‰é’®å¼€å§‹å½•éŸ³
- [FR-001-02] åº”ç”¨å½•åˆ¶5-15ç§’çš„ç¯å¢ƒéŸ³é¢‘ï¼ˆKTVåœºæ™¯ä¼˜åŒ–ï¼‰
- [FR-001-03] **æ—¥è¯­æ­Œæ›²ä¸“é—¨ä¼˜åŒ–**ï¼šæ”¯æŒJ-POPã€åŠ¨æ¼«æ­Œæ›²ã€ä¼ ç»ŸéŸ³ä¹ç­‰
- [FR-001-04] ç³»ç»Ÿåœ¨3ç§’å†…è¿”å›è¯†åˆ«ç»“æœ
- [FR-001-05] æ—¥è¯­æ­Œæ›²è¯†åˆ«å‡†ç¡®ç‡è¾¾åˆ°95%ä»¥ä¸Š
- [FR-001-06] æ”¯æŒå½•éŸ³è¿‡ç¨‹ä¸­çš„å–æ¶ˆæ“ä½œ
- [FR-001-07] æ˜¾ç¤ºå½•éŸ³è¿›åº¦å’ŒçŠ¶æ€
- [FR-001-08] è¯†åˆ«æˆåŠŸåç«‹å³è·³è½¬åˆ°æ—¥è¯­æ­Œè¯æ˜¾ç¤ºé¡µé¢

**æ—¥è¯­ä¼˜åŒ–ç‰¹æ€§**:
- æ”¯æŒå„å¤§æ—¥æœ¬éŸ³ä¹å¹³å°çš„æ­Œæ›²åº“
- ä¼˜åŒ–å¯¹æ—¥è¯­å‘éŸ³ç‰¹å¾çš„è¯†åˆ«ç®—æ³•
- ç‰¹åˆ«æ”¯æŒåŠ¨æ¼«ã€æ¸¸æˆéŸ³ä¹çš„è¯†åˆ«

**éªŒæ”¶æ ‡å‡†**:
- è¯†åˆ«æŒ‰é’®å“åº”æ—¶é—´ < 500ms
- æ—¥è¯­æ­Œæ›²è¯†åˆ«å‡†ç¡®ç‡ â‰¥ 95%
- è¯†åˆ«å“åº”æ—¶é—´ â‰¤ 3ç§’
- æ”¯æŒè‡³å°‘10ä¸‡é¦–æ—¥è¯­æ­Œæ›²çš„è¯†åˆ«åº“

### 3.2 AIæ™ºèƒ½æ—¥è¯­æ­Œè¯å¤„ç†åŠŸèƒ½ (FR-002) â­ **æ ¸å¿ƒåŠŸèƒ½**
**ä¼˜å…ˆçº§**: æœ€é«˜  
**éœ€æ±‚æè¿°**: åˆ©ç”¨DeepSeekå¤§æ¨¡å‹å’Œæ—¥è¯­å¤„ç†å¼•æ“ï¼Œæä¾›æ±‰å­—ã€å‡åã€ç½—é©¬éŸ³çš„æ™ºèƒ½è½¬æ¢å’Œæ˜¾ç¤º

**è¯¦ç»†éœ€æ±‚**:
- [FR-002-01] æ ¹æ®è¯†åˆ«ç»“æœè‡ªåŠ¨æœç´¢å¯¹åº”çš„æ—¥è¯­æ­Œè¯
- [FR-002-02] **æ™ºèƒ½è¯­è¨€åˆ†æ**ï¼šè‡ªåŠ¨è¯†åˆ«æ±‰å­—ã€å‡åæ··åˆæ–‡æœ¬
- [FR-002-03] **å‡åè½¬æ¢**ï¼šæ±‰å­—è‡ªåŠ¨æ ‡æ³¨å‡åè¯»éŸ³
- [FR-002-04] **ç½—é©¬éŸ³ç”Ÿæˆ**ï¼šå‡åè‡ªåŠ¨è½¬æ¢ä¸ºç½—é©¬éŸ³
- [FR-002-05] **AIå“è´¨æ£€æµ‹**ï¼šDeepSeekæ¨¡å‹éªŒè¯è½¬æ¢å‡†ç¡®æ€§
- [FR-002-06] æ”¯æŒæ‰‹åŠ¨æ ¡æ­£å’Œç¼–è¾‘åŠŸèƒ½
- [FR-002-07] æ™ºèƒ½æ–­å¥å’Œè¯­æ³•åˆ†æ
- [FR-002-08] æ— æ­Œè¯æ—¶æä¾›AIç”Ÿæˆçš„æ—¥è¯­å­¦ä¹ å»ºè®®

**AIé›†æˆç‚¹**:
- æ—¥è¯­è¯­ä¹‰ç†è§£å’Œæ­Œè¯åŒ¹é…
- æ±‰å­—å‡åæ ‡æ³¨çš„å‡†ç¡®æ€§éªŒè¯
- æ­Œè¯è´¨é‡è¯„åˆ†å’Œä¼˜åŒ–å»ºè®®
- æ—¥è¯­è¯­æ³•å’Œè¯­è¨€å­¦ä¹ è¾…åŠ©

**éªŒæ”¶æ ‡å‡†**:
- æ—¥è¯­æ­Œè¯åŒ¹é…æˆåŠŸç‡ â‰¥ 90%
- å‡åæ ‡æ³¨å‡†ç¡®ç‡ â‰¥ 98%
- ç½—é©¬éŸ³è½¬æ¢å‡†ç¡®ç‡ â‰¥ 99%
- æ­Œè¯æœç´¢å“åº”æ—¶é—´ â‰¤ 2ç§’
- AIå¤„ç†å»¶è¿Ÿ â‰¤ 3ç§’

### 3.3 å¤šè¯­è¨€æ­Œè¯æ˜¾ç¤ºåŠŸèƒ½ (FR-003) â­ **æ ¸å¿ƒç‰¹è‰²åŠŸèƒ½**
**ä¼˜å…ˆçº§**: æœ€é«˜  
**éœ€æ±‚æè¿°**: åŸºäºå…¨å±€KTVæ¨¡å¼çš„æ™ºèƒ½æ­Œè¯æ˜¾ç¤ºç³»ç»Ÿï¼Œæ”¯æŒæ±‰å­—ã€å‡åã€ç½—é©¬éŸ³ä¸‰ç§æ¨¡å¼åˆ‡æ¢

**è¯¦ç»†éœ€æ±‚**:
- [FR-003-01] æ ¹æ®è¯†åˆ«æ—¶åˆ»ç²¾å‡†è®¡ç®—æ­Œæ›²å½“å‰æ’­æ”¾ä½ç½®
- [FR-003-02] **æ™ºèƒ½æ¨¡å¼åˆ‡æ¢**ï¼šæ ¹æ®å…¨å±€KTVå¼€å…³è‡ªåŠ¨åˆ‡æ¢æ˜¾ç¤ºç•Œé¢
- [FR-003-03] **ä¸‰è¯­è¨€åˆ‡æ¢**ï¼šæ”¯æŒæ±‰å­—ã€å‡åã€ç½—é©¬éŸ³ä¸€é”®åˆ‡æ¢
  - **æ±‰å­—æ¨¡å¼**ï¼šæ˜¾ç¤ºåŸæ–‡æ±‰å­—æ­Œè¯ï¼ˆæ—¥è¯­åŸæ–‡ï¼‰
  - **å‡åæ¨¡å¼**ï¼šæ˜¾ç¤ºå‡åè¯»éŸ³ï¼Œå¸®åŠ©å‘éŸ³å­¦ä¹ 
  - **ç½—é©¬éŸ³æ¨¡å¼**ï¼šæ˜¾ç¤ºç½—é©¬éŸ³è½¬å†™ï¼Œä¾¿äºå¤–å›½å­¦ä¹ è€…
- [FR-003-04] **æ ‡å‡†æ¨¡å¼**ï¼šæ­Œè¯é€è¡Œæ»šåŠ¨æ˜¾ç¤ºï¼Œé«˜äº®å½“å‰æ¼”å”±å¥
- [FR-003-05] **KTVæ¨¡å¼**ï¼šå…¨å±å¤§å­—ä½“ã€é«˜å¯¹æ¯”åº¦æ˜¾ç¤º
- [FR-003-06] æ”¯æŒæ‰‹åŠ¨æ—¶é—´åç§»è°ƒèŠ‚ï¼ˆÂ±5ç§’èŒƒå›´ï¼‰
- [FR-003-07] æ”¯æŒæ­Œè¯å­—ä½“å¤§å°è°ƒèŠ‚
- [FR-003-08] æ”¯æŒæš‚åœ/ç»§ç»­åŒæ­¥åŠŸèƒ½
- [FR-003-09] **è¯­è¨€å­¦ä¹ æ¨¡å¼**ï¼šåŒæ—¶æ˜¾ç¤ºå¤šç§è¯­è¨€å½¢å¼
- [FR-003-10] **å…¨å±€é…ç½®**ï¼šé¦–é¡µKTVå¼€å…³æ§åˆ¶å…¨å±€æ­Œè¯æ˜¾ç¤ºæ¨¡å¼

**è¯­è¨€åˆ‡æ¢é€»è¾‘**:
```
æ±‰å­—æ¨¡å¼: æ‹ã‚’ã—ãŸã®ã¯ (åŸæ–‡æ˜¾ç¤º)
â†“
å‡åæ¨¡å¼: ã“ã„ã‚’ã—ãŸã®ã¯ (å‡åè¯»éŸ³)
â†“  
ç½—é©¬éŸ³æ¨¡å¼: koi wo shita no wa (ç½—é©¬éŸ³è½¬å†™)
```

**éªŒæ”¶æ ‡å‡†**:
- æ­Œè¯åŒæ­¥å»¶è¿Ÿ â‰¤ 100ms
- æ—¶é—´å®šä½ç²¾åº¦ Â± 0.5ç§’
- è¯­è¨€åˆ‡æ¢å“åº”æ—¶é—´ â‰¤ 200ms
- KTVæ¨¡å¼ä¸‹5ç±³å¤–æ¸…æ™°å¯è¯»
- æ”¯æŒ3-5çº§å­—ä½“å¤§å°è°ƒèŠ‚
- ä¸‰ç§è¯­è¨€æ¨¡å¼å‡†ç¡®ç‡ â‰¥ 98%

### 3.4 æ—¥è¯­æ­Œè¯æ‰‹å¸åˆ›ä½œåŠŸèƒ½ (FR-004) â­ **ç‰¹è‰²åŠŸèƒ½**
**ä¼˜å…ˆçº§**: ä¸­  
**éœ€æ±‚æè¿°**: ç”¨æˆ·èƒ½å¤Ÿåˆ›ä½œä¸ªæ€§åŒ–çš„æ—¥è¯­æ­Œè¯æ‰‹å¸ä½œå“ï¼ŒAIæä¾›æ—¥è¯­æ–‡åŒ–ç›¸å…³çš„åˆ›ä½œè¾…åŠ©

**è¯¦ç»†éœ€æ±‚**:
- [FR-004-01] æ—¥è¯­æ­Œè¯æ–‡æœ¬å¯¼å…¥å’Œç¼–è¾‘åŠŸèƒ½
- [FR-004-02] **æ—¥å¼é£æ ¼æ¨¡æ¿**ï¼šAIæ¨èå’Œé£ã€ç°ä»£æ—¥å¼ç­‰é£æ ¼
- [FR-004-03] **æ—¥è¯­å­—ä½“æ”¯æŒ**ï¼šæ˜æœä½“ã€é»‘ä½“ã€ä¹¦æ³•ä½“ç­‰
- [FR-004-04] é¢œè‰²å’Œå­—ä½“å¤§å°è‡ªå®šä¹‰
- [FR-004-05] **æ—¥å¼è£…é¥°å…ƒç´ **ï¼šæ¨±èŠ±ã€å’Œé£å›¾æ¡ˆã€å­£èŠ‚å…ƒç´ 
- [FR-004-06] AIè¾…åŠ©æ—¥å¼å¸ƒå±€æ¨¡æ¿æ¨è
- [FR-004-07] **å¤šè¯­è¨€å±•ç¤º**ï¼šæ”¯æŒåœ¨æ‰‹å¸ä¸­åŒæ—¶å±•ç¤ºæ±‰å­—/å‡å/ç½—é©¬éŸ³
- [FR-004-08] å®æ—¶é¢„è§ˆå’Œæ’¤é”€/é‡åšåŠŸèƒ½
- [FR-004-09] é«˜æ¸…å›¾ç‰‡å¯¼å‡ºï¼ˆè‡³å°‘1080pï¼‰
- [FR-004-10] AIç”Ÿæˆæ—¥è¯­æ–‡åŒ–ç›¸å…³çš„åˆ›ä½œå»ºè®®

**AIé›†æˆç‚¹**:
- æ—¥å¼ç¾å­¦å¸ƒå±€æ¨è
- å’Œé£è‰²å½©æ­é…å»ºè®®
- æ—¥è¯­æ–‡åŒ–å…ƒç´ æ¨è
- å­£èŠ‚æ€§è£…é¥°å»ºè®®

**éªŒæ”¶æ ‡å‡†**:
- ç¼–è¾‘æ“ä½œå“åº”æ—¶é—´ < 500ms
- AIæ¨èå‡†ç¡®ç‡ > 85%
- æ”¯æŒè‡³å°‘10ç§æ—¥å¼é£æ ¼æ¨¡æ¿
- å›¾ç‰‡å¯¼å‡ºè´¨é‡æ¸…æ™°
- å¤šè¯­è¨€æ˜¾ç¤ºæ— ä¹±ç 

### 3.5 æ™ºèƒ½æ”¶è—ç®¡ç†åŠŸèƒ½ (FR-005) â­ **åŠŸèƒ½å¢å¼º**
**ä¼˜å…ˆçº§**: ä¸­  
**éœ€æ±‚æè¿°**: ä¸“é—¨é’ˆå¯¹æ—¥è¯­æ­Œæ›²çš„å¤šæ”¶è—å¤¹ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæŒ‰è‰ºäººã€ç±»å‹ã€å­¦ä¹ è¿›åº¦åˆ†ç±»

**è¯¦ç»†éœ€æ±‚**:
- [FR-005-01] **æ—¥è¯­åˆ†ç±»æ”¶è—å¤¹**ï¼šæ”¯æŒæŒ‰è‰ºäººã€åŠ¨æ¼«ã€æ—¶ä»£ç­‰åˆ†ç±»
- [FR-005-02] **å­¦ä¹ è¿›åº¦ç®¡ç†**ï¼šæ ‡è®°å­¦ä¹ çŠ¶æ€ï¼ˆå·²å­¦ä¼š/ç»ƒä¹ ä¸­/å¾…å­¦ä¹ ï¼‰
- [FR-005-03] **æ™ºèƒ½åˆ†ç±»**ï¼šç³»ç»Ÿé¢„è®¾"J-POP"ã€"åŠ¨æ¼«æ­Œæ›²"ã€"å­¦ä¹ ä¸­"ç­‰
- [FR-005-04] **é»˜è®¤æ”¶è—å¤¹è®¾ç½®**ï¼šè®¾ç½®è¯†åˆ«æ­Œæ›²è‡ªåŠ¨æ·»åŠ çš„ç›®æ ‡æ”¶è—å¤¹
- [FR-005-05] æ”¶è—å¤¹ç®¡ç†ï¼šé‡å‘½åã€åˆ é™¤ã€æ’åºæ”¶è—å¤¹
- [FR-005-06] **æ—¥è¯­æœç´¢**ï¼šæ”¯æŒæ±‰å­—ã€å‡åã€ç½—é©¬éŸ³æœç´¢
- [FR-005-07] æ­Œæ›²å½’ç±»ï¼šæ”¯æŒå°†æ­Œæ›²ç§»åŠ¨åˆ°ä¸åŒæ”¶è—å¤¹
- [FR-005-08] æ‰¹é‡æ“ä½œï¼šå¤šé€‰æ­Œæ›²è¿›è¡Œæ‰¹é‡ç®¡ç†
- [FR-005-09] é‡å¤æ£€æµ‹ï¼šé¿å…åŒä¸€é¦–æ­Œé‡å¤æ·»åŠ 
- [FR-005-10] **å­¦ä¹ ç»Ÿè®¡**ï¼šè®°å½•å­¦ä¹ è¿›åº¦å’Œå¤ä¹ é¢‘ç‡

**è‡ªåŠ¨åŒ–åŠŸèƒ½**:
- è¯†åˆ«æˆåŠŸçš„æ—¥è¯­æ­Œæ›²è‡ªåŠ¨æ·»åŠ åˆ°å½“å‰é»˜è®¤æ”¶è—å¤¹
- åŸºäºæ­Œæ›²ç±»å‹çš„æ™ºèƒ½åˆ†ç±»å»ºè®®
- å­¦ä¹ è¿›åº¦çš„æ™ºèƒ½æé†’å’Œæ¨è

**éªŒæ”¶æ ‡å‡†**:
- æ”¯æŒåˆ›å»ºè‡³å°‘30ä¸ªè‡ªå®šä¹‰æ”¶è—å¤¹
- æ”¶è—å¤¹åˆ‡æ¢å“åº”æ—¶é—´ â‰¤ 300ms
- æ‰¹é‡æ“ä½œæ”¯æŒæœ€å¤š100é¦–æ­Œæ›²
- æ—¥è¯­æœç´¢ç»“æœè¿”å›æ—¶é—´ â‰¤ 500ms
- æ”¯æŒå¤šç§æ—¥è¯­è¾“å…¥æ–¹å¼

### 3.6 ç”¨æˆ·ç®¡ç†åŠŸèƒ½ (FR-006)
**ä¼˜å…ˆçº§**: ä¸­  
**éœ€æ±‚æè¿°**: å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œç™»å½•å’Œä¸ªäººä¸­å¿ƒåŠŸèƒ½ï¼Œæ”¯æŒæ—¥è¯­å­¦ä¹ åå¥½è®¾ç½®

**è¯¦ç»†éœ€æ±‚**:
- [FR-006-01] æ”¯æŒæ‰‹æœºå·æ³¨å†Œ
- [FR-006-02] æ”¯æŒç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆå¾®ä¿¡ã€QQã€Appleï¼‰
- [FR-006-03] æä¾›å¯†ç é‡ç½®åŠŸèƒ½
- [FR-006-04] æ”¯æŒæ¸¸å®¢æ¨¡å¼ä½¿ç”¨åŸºç¡€åŠŸèƒ½
- [FR-006-05] ç”¨æˆ·èµ„æ–™ç¼–è¾‘åŠŸèƒ½
- [FR-006-06] **æ—¥è¯­å­¦ä¹ åå¥½**ï¼šè®¾ç½®é»˜è®¤æ˜¾ç¤ºè¯­è¨€ï¼ˆæ±‰å­—/å‡å/ç½—é©¬éŸ³ï¼‰
- [FR-006-07] **å…¨å±€KTVæ¨¡å¼è®¾ç½®**ï¼šç”¨æˆ·åå¥½è®¾ç½®
- [FR-006-08] **å­¦ä¹ ç»Ÿè®¡**ï¼šæ—¥è¯­æ­Œæ›²å­¦ä¹ è¿›åº¦å’Œç»Ÿè®¡
- [FR-006-09] è´¦æˆ·æ³¨é”€åŠŸèƒ½

### 3.7 ç®¡ç†ç«¯åŠŸèƒ½ (FR-007)
**ä¼˜å…ˆçº§**: ä¸­  
**éœ€æ±‚æè¿°**: Next.jsæ„å»ºçš„ç®¡ç†ç«¯ï¼Œä¸“é—¨ç”¨äºæ—¥è¯­å†…å®¹ç®¡ç†å’Œç”¨æˆ·ç®¡ç†

**è¯¦ç»†éœ€æ±‚**:
- [FR-007-01] ç”¨æˆ·ç®¡ç†ï¼šæŸ¥çœ‹ã€ç¼–è¾‘ã€å°ç¦ç”¨æˆ·
- [FR-007-02] **æ—¥è¯­å†…å®¹ç®¡ç†**ï¼šæ­Œè¯å®¡æ ¸ã€è´¨é‡ç®¡æ§ã€å‡åæ ¡æ­£
- [FR-007-03] **æ—¥è¯­æ­Œæ›²åº“ç®¡ç†**ï¼šæ­Œæ›²ä¿¡æ¯ç»´æŠ¤ã€åˆ†ç±»ç®¡ç†
- [FR-007-04] æ”¶è—å¤¹ç®¡ç†ï¼šç›‘æ§ç”¨æˆ·æ”¶è—å¤¹ä½¿ç”¨æƒ…å†µ
- [FR-007-05] **å­¦ä¹ æ•°æ®åˆ†æ**ï¼šç”¨æˆ·å­¦ä¹ è¡Œä¸ºã€æ­Œæ›²çƒ­åº¦ã€è¯­è¨€åå¥½ç»Ÿè®¡
- [FR-007-06] AIæ¨¡å‹ç®¡ç†ï¼šDeepSeek APIè°ƒç”¨ç›‘æ§ï¼Œæ—¥è¯­å¤„ç†ä¼˜åŒ–
- [FR-007-07] ç³»ç»Ÿç›‘æ§ï¼šæ€§èƒ½æŒ‡æ ‡ã€é”™è¯¯æ—¥å¿—
- [FR-007-08] **æ—¥è¯­ä¸“é¡¹é…ç½®**ï¼šå‡åè½¬æ¢è§„åˆ™ã€ç½—é©¬éŸ³æ ‡å‡†è®¾ç½®

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„è®¾è®¡

### 4.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç«¯                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                React Native Expo App                       â”‚
â”‚          (iOS / Android - æ—¥è¯­ä¼˜åŒ–)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç®¡ç†ç«¯                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Next.js Web App                        â”‚
â”‚            (ç®¡ç†åå° + API Routes)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI & æ—¥è¯­å¤„ç†å±‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é˜¿é‡Œäº‘APIç½‘å…³  â”‚  DeepSeekå¤§æ¨¡å‹  â”‚ Kuroshiro.js â”‚ MeCab   â”‚
â”‚               â”‚   (æ—¥è¯­ä¼˜åŒ–)     â”‚  (å‡åå¤„ç†)   â”‚(å½¢æ€ç´ ) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PostgreSQL  â”‚   Redis    â”‚   é˜¿é‡Œäº‘OSS   â”‚  æ—¥è¯­æ­Œè¯API     â”‚
â”‚ (ä¸»æ•°æ®åº“)    â”‚  (ç¼“å­˜)     â”‚  (æ–‡ä»¶å­˜å‚¨)    â”‚ (å¤šæ•°æ®æº)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æŠ€æœ¯æ ˆè¯¦ç»†é…ç½®

#### 4.2.1 React Native Expoç”¨æˆ·ç«¯ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰
```json
{
  "expo": "~49.0.0",
  "react-native": "0.72.0",
  "typescript": "^5.0.0",
  "dependencies": {
    "@reduxjs/toolkit": "^1.9.5",
    "@react-navigation/native": "^6.1.7",
    "@react-navigation/bottom-tabs": "^6.5.8",
    "expo-av": "~13.4.1",
    "expo-file-system": "~15.4.3",
    "expo-permissions": "~14.2.1",
    "react-native-canvas": "^0.1.38",
    "react-native-svg": "^13.9.0",
    "react-native-reanimated": "~3.3.0",
    "react-native-vector-icons": "^10.0.0",
    "kuroshiro": "^1.2.0",
    "kuroshiro-analyzer-mecab": "^1.1.0",
    "wanakana": "^5.0.2"
  }
}
```

#### 4.2.2 Next.jsç®¡ç†ç«¯ + åç«¯ï¼ˆæ—¥è¯­å¤„ç†ï¼‰
```json
{
  "next": "13.4.0",
  "react": "18.2.0",
  "typescript": "^5.0.0",
  "dependencies": {
    "@prisma/client": "^5.0.0",
    "prisma": "^5.0.0",
    "redis": "^4.6.0",
    "jsonwebtoken": "^9.0.0",
    "bcryptjs": "^2.4.3",
    "axios": "^1.4.0",
    "tailwindcss": "^3.3.0",
    "next-auth": "^4.22.0",
    "@alicloud/pop-core": "^1.7.12",
    "kuroshiro": "^1.2.0",
    "kuroshiro-analyzer-mecab": "^1.1.0",
    "node-mecab": "^0.2.6"
  }
}
```

### 4.3 æ—¥è¯­å¤„ç†å¼•æ“é›†æˆ

#### 4.3.1 æ—¥è¯­æ–‡æœ¬å¤„ç†æœåŠ¡
```typescript
interface JapaneseTextProcessor {
  // æ±‰å­—è½¬å‡å
  kanjiToHiragana(text: string): Promise<string>
  
  // å‡åè½¬ç½—é©¬éŸ³
  hiraganaToRomaji(text: string): Promise<string>
  
  // ç»¼åˆè½¬æ¢
  convertLyrics(text: string): Promise<{
    kanji: string      // åŸæ–‡æ±‰å­—
    hiragana: string   // å‡åè¯»éŸ³
    romaji: string     // ç½—é©¬éŸ³
    segments: Array<{  // åˆ†æ®µä¿¡æ¯
      kanji: string
      hiragana: string
      romaji: string
      reading: string
    }>
  }>
  
  // æ­Œè¯è´¨é‡æ£€æµ‹
  validateJapaneseLyrics(lyrics: string): Promise<QualityScore>
}

class KuroshiroService implements JapaneseTextProcessor {
  private kuroshiro: any
  
  constructor() {
    this.initializeKuroshiro()
  }
  
  private async initializeKuroshiro() {
    const Kuroshiro = require('kuroshiro')
    const KuromojiAnalyzer = require('kuroshiro-analyzer-mecab')
    
    this.kuroshiro = new Kuroshiro()
    await this.kuroshiro.init(new KuromojiAnalyzer())
  }
  
  async kanjiToHiragana(text: string): Promise<string> {
    return await this.kuroshiro.convert(text, {
      to: 'hiragana',
      mode: 'spaced'
    })
  }
  
  async hiraganaToRomaji(text: string): Promise<string> {
    return await this.kuroshiro.convert(text, {
      to: 'romaji',
      mode: 'spaced'
    })
  }
  
  async convertLyrics(text: string): Promise<any> {
    const hiragana = await this.kanjiToHiragana(text)
    const romaji = await this.hiraganaToRomaji(hiragana)
    
    // ä½¿ç”¨MeCabè¿›è¡Œå½¢æ€ç´ åˆ†æ
    const segments = await this.segmentText(text)
    
    return {
      kanji: text,
      hiragana,
      romaji,
      segments
    }
  }
}
```

#### 4.3.2 DeepSeek AIæ—¥è¯­ä¼˜åŒ–
```typescript
class DeepSeekJapaneseService {
  private client: any
  
  async optimizeJapaneseLyrics(lyrics: string, options: {
    addFurigana?: boolean
    validateGrammar?: boolean
    suggestCorrections?: boolean
  }): Promise<OptimizedJapaneseLyrics> {
    
    const prompt = `
    ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ—¥è¯­æ­Œè¯åˆ†æä¸“å®¶ã€‚è¯·åˆ†æä»¥ä¸‹æ—¥è¯­æ­Œè¯ï¼š
    
    æ­Œè¯å†…å®¹ï¼š${lyrics}
    
    è¯·æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š
    1. éªŒè¯æ—¥è¯­è¯­æ³•çš„æ­£ç¡®æ€§
    2. ä¸ºæ±‰å­—æ ‡æ³¨å‡åè¯»éŸ³ï¼ˆæŒ¯ã‚Šä»®åï¼‰
    3. æä¾›å‡†ç¡®çš„ç½—é©¬éŸ³è½¬å†™
    4. è¯†åˆ«å¯èƒ½çš„é”™è¯¯æˆ–ä¸è‡ªç„¶çš„è¡¨è¾¾
    5. æä¾›æ­Œè¯çš„è¯­ä¹‰åˆ†æ
    
    è¿”å›JSONæ ¼å¼çš„ç»“æœã€‚
    `
    
    const response = await this.callDeepSeekAPI(prompt)
    return this.parseJapaneseLyricsResult(response)
  }
  
  async generateFurigana(text: string): Promise<FuriganaResult> {
    const prompt = `
    è¯·ä¸ºä»¥ä¸‹æ—¥è¯­æ–‡æœ¬ç”Ÿæˆå‡†ç¡®çš„æŒ¯ã‚Šä»®åæ ‡æ³¨ï¼š
    ${text}
    
    è¦æ±‚ï¼š
    1. åªä¸ºæ±‰å­—æ ‡æ³¨å‡åï¼Œå‡åéƒ¨åˆ†ä¿æŒä¸å˜
    2. ç¡®ä¿è¯»éŸ³çš„å‡†ç¡®æ€§
    3. è€ƒè™‘æ­Œè¯çš„è¯­å¢ƒå’Œæƒ…æ„Ÿè¡¨è¾¾
    4. è¿”å›æ ‡å‡†æ ¼å¼çš„å‡åæ ‡æ³¨
    `
    
    const response = await this.callDeepSeekAPI(prompt)
    return this.parseFuriganaResult(response)
  }
}
```

### 4.4 æ•°æ®åº“è®¾è®¡ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰

#### 4.4.1 æ ¸å¿ƒæ•°æ®è¡¨
```sql
-- ç”¨æˆ·è¡¨ï¼ˆå¢åŠ æ—¥è¯­åå¥½ï¼‰
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  phone VARCHAR(20) UNIQUE,
  email VARCHAR(255) UNIQUE,
  nickname VARCHAR(50),
  avatar_url TEXT,
  role VARCHAR(20) DEFAULT 'user',
  -- æ—¥è¯­å­¦ä¹ åå¥½
  japanese_level VARCHAR(20) DEFAULT 'beginner', -- beginner, intermediate, advanced
  default_display_mode VARCHAR(20) DEFAULT 'kanji', -- kanji, hiragana, romaji
  furigana_enabled BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  last_login_at TIMESTAMP,
  is_active BOOLEAN DEFAULT true
);

-- æ—¥è¯­æ­Œæ›²è¡¨
CREATE TABLE japanese_songs (
  id SERIAL PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  title_hiragana VARCHAR(255), -- å‡åæ ‡é¢˜
  title_romaji VARCHAR(255),   -- ç½—é©¬éŸ³æ ‡é¢˜
  artist VARCHAR(255) NOT NULL,
  artist_hiragana VARCHAR(255),
  artist_romaji VARCHAR(255),
  album VARCHAR(255),
  duration INTEGER,
  release_year INTEGER,
  genre VARCHAR(100), -- j-pop, anime, traditional, etc.
  anime_series VARCHAR(255), -- å…³è”çš„åŠ¨æ¼«ä½œå“
  cover_url TEXT,
  external_ids JSONB,
  ai_processed BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ—¥è¯­æ­Œè¯è¡¨ï¼ˆå¤šè¯­è¨€æ”¯æŒï¼‰
CREATE TABLE japanese_lyrics (
  id SERIAL PRIMARY KEY,
  song_id INTEGER REFERENCES japanese_songs(id),
  -- åŸæ–‡æ­Œè¯
  lyrics_kanji TEXT NOT NULL,
  -- å‡åæ­Œè¯
  lyrics_hiragana TEXT,
  -- ç½—é©¬éŸ³æ­Œè¯
  lyrics_romaji TEXT,
  -- è¯¦ç»†åˆ†æ®µä¿¡æ¯
  lyrics_segments JSONB, -- åŒ…å«æ¯å¥çš„æ±‰å­—ã€å‡åã€ç½—é©¬éŸ³å¯¹åº”
  -- æ­Œè¯å…ƒä¿¡æ¯
  format VARCHAR(10) DEFAULT 'lrc',
  language VARCHAR(10) DEFAULT 'ja',
  source VARCHAR(50),
  -- AIå¤„ç†ä¿¡æ¯
  ai_quality_score INTEGER,
  ai_furigana_accuracy DECIMAL(3,2),
  ai_romaji_accuracy DECIMAL(3,2),
  ai_optimized BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- å­¦ä¹ è¿›åº¦è¡¨
CREATE TABLE learning_progress (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id),
  song_id INTEGER REFERENCES japanese_songs(id),
  learning_status VARCHAR(20) DEFAULT 'not_started', -- not_started, learning, mastered
  favorite_display_mode VARCHAR(20) DEFAULT 'kanji',
  practice_count INTEGER DEFAULT 0,
  last_practiced_at TIMESTAMP,
  mastery_level INTEGER DEFAULT 0, -- 0-100
  notes TEXT, -- ç”¨æˆ·å­¦ä¹ ç¬”è®°
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ”¶è—å¤¹è¡¨ï¼ˆæ—¥è¯­åˆ†ç±»ï¼‰
CREATE TABLE playlists (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id),
  name VARCHAR(255) NOT NULL,
  name_japanese VARCHAR(255), -- æ—¥è¯­åç§°
  description TEXT,
  category VARCHAR(50), -- j-pop, anime, learning, etc.
  is_default BOOLEAN DEFAULT false,
  song_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- AIå¤„ç†æ—¥å¿—è¡¨
CREATE TABLE ai_processing_logs (
  id SERIAL PRIMARY KEY,
  request_type VARCHAR(50), -- japanese_lyrics_convert, furigana_generate, quality_eval
  input_data JSONB,
  output_data JSONB,
  processing_time INTEGER,
  api_cost DECIMAL(10,4),
  accuracy_score DECIMAL(3,2), -- AIå¤„ç†å‡†ç¡®ç‡
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 4.5 APIè®¾è®¡ï¼ˆæ—¥è¯­ä¸“é—¨ï¼‰

#### 4.5.1 RESTful APIè§„èŒƒ
```typescript
// æ—¥è¯­æ­Œæ›²è¯†åˆ«å’Œå¤„ç†
POST   /api/recognition/japanese      // æ—¥è¯­éŸ³ä¹è¯†åˆ«
POST   /api/lyrics/japanese/convert   // æ—¥è¯­æ­Œè¯å¤šè¯­è¨€è½¬æ¢
POST   /api/lyrics/furigana/generate  // å‡åæ ‡æ³¨ç”Ÿæˆ
POST   /api/lyrics/romaji/convert     // ç½—é©¬éŸ³è½¬æ¢

// å­¦ä¹ ç›¸å…³
GET    /api/learning/progress         // å­¦ä¹ è¿›åº¦æŸ¥è¯¢
POST   /api/learning/practice         // è®°å½•ç»ƒä¹ 
PUT    /api/learning/status           // æ›´æ–°å­¦ä¹ çŠ¶æ€

// æ”¶è—å¤¹ï¼ˆæ—¥è¯­åˆ†ç±»ï¼‰
GET    /api/playlists/japanese        // æ—¥è¯­æ”¶è—å¤¹åˆ—è¡¨
POST   /api/playlists/japanese        // åˆ›å»ºæ—¥è¯­æ”¶è—å¤¹
PUT    /api/playlists/japanese/:id    // æ›´æ–°æ”¶è—å¤¹

// AIæœåŠ¡ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰
POST   /api/ai/japanese/optimize      // AIæ—¥è¯­æ­Œè¯ä¼˜åŒ–
POST   /api/ai/japanese/validate      // AIæ—¥è¯­è¯­æ³•éªŒè¯
POST   /api/ai/japanese/suggest       // AIå­¦ä¹ å»ºè®®
```

#### 4.5.2 APIå®ç°ç¤ºä¾‹
```typescript
// pages/api/lyrics/japanese/convert.ts
import { NextApiRequest, NextApiResponse } from 'next'
import { KuroshiroService } from '../../../lib/japanese/kuroshiro'
import { DeepSeekJapaneseService } from '../../../lib/ai/deepseek-japanese'

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' })
  }
  
  try {
    const { lyrics, options } = req.body
    const kuroshiroService = new KuroshiroService()
    const deepSeekService = new DeepSeekJapaneseService()
    
    // åŸºç¡€è½¬æ¢
    const convertedLyrics = await kuroshiroService.convertLyrics(lyrics)
    
    // AIä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰
    if (options?.aiOptimize) {
      const optimizedResult = await deepSeekService.optimizeJapaneseLyrics(
        lyrics, 
        options
      )
      convertedLyrics.aiOptimizations = optimizedResult
    }
    
    // è®°å½•å¤„ç†æ—¥å¿—
    await logJapaneseProcessing({
      type: 'lyrics_convert',
      input: { lyrics, options },
      output: convertedLyrics,
      processingTime: Date.now() - startTime
    })
    
    res.status(200).json({
      success: true,
      data: convertedLyrics
    })
  } catch (error) {
    console.error('Japanese lyrics conversion failed:', error)
    res.status(500).json({ error: 'Japanese processing failed' })
  }
}
```

---

## ğŸ“± ç”¨æˆ·ç•Œé¢è®¾è®¡ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰

### 5.1 è®¾è®¡åŸåˆ™
- **æ—¥è¯­å‹å¥½**: ä¼˜åŒ–æ—¥è¯­æ–‡å­—æ˜¾ç¤ºï¼Œæ”¯æŒå‡åå’Œæ±‰å­—æ··æ’
- **å¤šè¯­è¨€åˆ‡æ¢**: æ— ç¼çš„æ±‰å­—/å‡å/ç½—é©¬éŸ³åˆ‡æ¢ä½“éªŒ
- **å­¦ä¹ å¯¼å‘**: ç•Œé¢è®¾è®¡æœ‰åŠ©äºæ—¥è¯­å­¦ä¹ 
- **æ–‡åŒ–é€‚é…**: èå…¥æ—¥å¼ç¾å­¦å…ƒç´ 

### 5.2 ä¸»è¦é¡µé¢è®¾è®¡

#### 5.2.1 é¦–é¡µ/è¯†åˆ«é¡µï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [çŠ¶æ€æ ] 44px                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å¯¼èˆªæ ] 56px                        â”‚
â”‚   ğŸŒ LyricNote         [è®¾ç½®] [å±¥æ­´]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ [ä¸»è¯†åˆ«åŒºåŸŸ] ~400px                   â”‚
â”‚                                     â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚        â”‚             â”‚               â”‚
â”‚        â”‚   [è¯†åˆ«æŒ‰é’®]  â”‚               â”‚
â”‚        â”‚    240px     â”‚               â”‚
â”‚        â”‚             â”‚               â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                     â”‚
â”‚   çŠ¶æ€æ–‡å­—: "æ—¥æœ¬ã®éŸ³æ¥½ã‚’èªè­˜ã™ã‚‹"     â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [è¯­è¨€åå¥½è®¾ç½®] 120px                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ è¡¨ç¤ºæ–¹æ³•: [æ¼¢å­—] [ã²ã‚‰ãŒãª] [Romaji] â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ¤ KTVãƒ¢ãƒ¼ãƒ‰    â—‹â”€â”€â”€â”€â—       â”‚     â”‚
â”‚  â”‚    å¤§æ–‡å­—æ­Œè©è¡¨ç¤º              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åº•éƒ¨å¯¼èˆª] 83px                       â”‚
â”‚   ğŸ ãƒ›ãƒ¼ãƒ  ğŸ“æ­Œè© âœ¨ä½œæˆ ğŸ’¾ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ ğŸ‘¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.2 æ—¥è¯­æ­Œè¯æ˜¾ç¤ºé¡µé¢ â­ **æ ¸å¿ƒåŠŸèƒ½**

**è¯­è¨€åˆ‡æ¢æ§åˆ¶æ **
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [è¯­è¨€åˆ‡æ¢æ ] 50px                     â”‚
â”‚  [æ¼¢å­—] [ã²ã‚‰ãŒãª] [Romaji] [å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ‡å‡†æ¨¡å¼ï¼ˆæ±‰å­—æ˜¾ç¤ºï¼‰**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ­Œæ›²ä¿¡æ¯åŒº] 120px                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” ã€Šæ‹ã€‹                     â”‚
â”‚  â”‚ å°é¢ â”‚  æ˜Ÿé‡æº                    â”‚
â”‚  â”‚ 80px â”‚  æ‹ (Single)               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æ­Œè¯æ»šåŠ¨åŒº] ~500px                   â”‚
â”‚                                     â”‚
â”‚  [ä¸Šä¸€å¥] èƒ¸ã«æ‰‹ã‚’ã‚ã¦               â”‚
â”‚  [å½“å‰å¥] æ‹ã‚’ã—ãŸã®ã¯ â†é«˜äº®          â”‚
â”‚  [ä¸‹ä¸€å¥] ã‚ãªãŸã®ã›ã„ã              â”‚
â”‚  [åç»­æ­Œè¯] åˆã‚ã¦ã®æ°—æŒã¡...         â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æ§åˆ¶åŒº] 80px                        â”‚
â”‚  â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 02:30/04:15  â”‚
â”‚   -2s  æ–‡å­—  â¸  â™¡  âš™               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å‡åæ¨¡å¼**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ­Œè¯æ»šåŠ¨åŒº] ~500px                   â”‚
â”‚                                     â”‚
â”‚  [ä¸Šä¸€å¥] ã‚€ã­ã«ã¦ã‚’ã‚ã¦             â”‚
â”‚  [å½“å‰å¥] ã“ã„ã‚’ã—ãŸã®ã¯ â†é«˜äº®        â”‚
â”‚  [ä¸‹ä¸€å¥] ã‚ãªãŸã®ã›ã„ã              â”‚
â”‚  [åç»­æ­Œè¯] ã¯ã˜ã‚ã¦ã®ãã‚‚ã¡...       â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç½—é©¬éŸ³æ¨¡å¼**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ­Œè¯æ»šåŠ¨åŒº] ~500px                   â”‚
â”‚                                     â”‚
â”‚  [ä¸Šä¸€å¥] mune ni te wo ate          â”‚
â”‚  [å½“å‰å¥] koi wo shita no wa â†é«˜äº®   â”‚
â”‚  [ä¸‹ä¸€å¥] anata no sei da            â”‚
â”‚  [åç»­æ­Œè¯] hajimete no kimochi...   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å­¦ä¹ æ¨¡å¼ï¼ˆä¸‰è¯­åŒæ˜¾ï¼‰**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ­Œè¯æ»šåŠ¨åŒº] ~500px                   â”‚
â”‚                                     â”‚
â”‚  [ä¸Šä¸€å¥] èƒ¸ã«æ‰‹ã‚’ã‚ã¦               â”‚
â”‚         ã‚€ã­ã«ã¦ã‚’ã‚ã¦               â”‚
â”‚         mune ni te wo ate            â”‚
â”‚                                     â”‚
â”‚  [å½“å‰å¥] æ‹ã‚’ã—ãŸã®ã¯ â†é«˜äº®          â”‚
â”‚         ã“ã„ã‚’ã—ãŸã®ã¯ â†é«˜äº®          â”‚
â”‚         koi wo shita no wa â†é«˜äº®     â”‚
â”‚                                     â”‚
â”‚  [ä¸‹ä¸€å¥] ã‚ãªãŸã®ã›ã„ã              â”‚
â”‚         ã‚ãªãŸã®ã›ã„ã                â”‚
â”‚         anata no sei da              â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.3 KTVæ¨¡å¼ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [å…¨å±æ­Œè¯æ˜¾ç¤º] 100vh                  â”‚
â”‚                                     â”‚
â”‚  æ­Œå: ã€Šæ‹ã€‹                        â”‚
â”‚  æ­Œæ‰‹: æ˜Ÿé‡æº                        â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚     [å½“å‰æ­Œè¯è¡Œ]              â”‚     â”‚
â”‚  â”‚    æ‹ã‚’ã—ãŸã®ã¯               â”‚     â”‚
â”‚  â”‚  (ã“ã„ã‚’ã—ãŸã®ã¯)             â”‚     â”‚ 
â”‚  â”‚   koi wo shita no wa         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚
â”‚  [ä¸‹ä¸€å¥æ­Œè¯]                        â”‚
â”‚  ã‚ãªãŸã®ã›ã„ã                       â”‚
â”‚  (ã‚ãªãŸã®ã›ã„ã )                    â”‚
â”‚  anata no sei da                    â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  [è¿›åº¦æ¡]                           â”‚
â”‚                                     â”‚
â”‚  [æ§åˆ¶æŒ‰é’®åŒºåŸŸ] 60px                 â”‚
â”‚    â¸ä¸€æ™‚åœæ­¢  â®å‰  â­æ¬¡  âš™è¨­å®š      â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.4 æ”¶è—ç®¡ç†é¡µé¢ï¼ˆæ—¥è¯­åˆ†ç±»ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ”¶è—å¤¹é€‰æ‹©] 60px                     â”‚
â”‚  ğŸ“‚ J-POPã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ â–¼  [â•æ–°è¦ä½œæˆ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æœç´¢å¤´éƒ¨] 100px                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ” æ›²åãƒ»ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆæ¤œç´¢...    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  [å…¨ã¦] [J-POP] [ã‚¢ãƒ‹ãƒ¡] [å­¦ç¿’ä¸­]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åˆ—è¡¨åŒºåŸŸ] ~580px                     â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â”Œâ”€â”€â” ã€Šæ‹ã€‹              â™¡ â‹¯   â”‚     â”‚
â”‚  â”‚ â”‚å°é¢â”‚  æ˜Ÿé‡æº â€¢ å­¦ç¿’ä¸­    æ“ä½œ   â”‚     â”‚
â”‚  â”‚ â””â”€â”€â”˜  [æ¼¢å­—] [ã‹ãª] [Romaji]     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â”Œâ”€â”€â” ã€Šå‰å‰å‰ä¸–ã€‹         ğŸ“‚ â‹¯   â”‚     â”‚
â”‚  â”‚ â”‚å°é¢â”‚  RADWIMPS â€¢ ã‚¢ãƒ‹ãƒ¡  æ“ä½œ   â”‚     â”‚
â”‚  â”‚ â””â”€â”€â”˜  [æ¼¢å­—] [ã‹ãª] [Romaji]     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åº•éƒ¨å¯¼èˆª] 83px                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.5 æ—¥è¯­æ‰‹å¸åˆ›ä½œé¡µé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [é¡¶éƒ¨å·¥å…·æ ] 56px                     â”‚
â”‚  â†©æˆ»ã‚‹  æ—¥æœ¬èªæ‰‹å¸³  ğŸ’¾ä¿å­˜  ğŸ“¤å…±æœ‰     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ä¸»ç¼–è¾‘åŒº] ~600px                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                             â”‚     â”‚
â”‚  â”‚        [ç¼–è¾‘ç”»å¸ƒ]            â”‚     â”‚
â”‚  â”‚         270x480             â”‚     â”‚
â”‚  â”‚                             â”‚     â”‚
â”‚  â”‚    æ‹ã‚’ã—ãŸã®ã¯               â”‚     â”‚
â”‚  â”‚  (ã“ã„ã‚’ã—ãŸã®ã¯)             â”‚     â”‚
â”‚  â”‚   koi wo shita no wa        â”‚     â”‚
â”‚  â”‚                             â”‚     â”‚
â”‚  â”‚    ã‚ãªãŸã®ã›ã„ã              â”‚     â”‚
â”‚  â”‚  (ã‚ãªãŸã®ã›ã„ã )             â”‚     â”‚
â”‚  â”‚   anata no sei da           â”‚     â”‚
â”‚  â”‚                             â”‚     â”‚
â”‚  â”‚        ğŸŒ¸ ğŸƒ ğŸ‹            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [AIåŠ©æ‰‹é¢æ¿] 120px                    â”‚
â”‚  ğŸ¤– AIå’Œé¢¨ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ                â”‚
â”‚  ğŸ’¡ [å’Œé¢¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ] [å­£ç¯€ãƒ†ãƒ¼ãƒ]      â”‚
â”‚  ğŸ¨ [æ˜¥è‰²] [å¤è‰²] [ç§‹è‰²] [å†¬è‰²]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å·¥å…·æ ] 60px                        â”‚
â”‚  ğŸ“æ–‡å­— ğŸ¨èƒŒæ™¯ ğŸŒ¸è£…é£¾ ğŸ“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ğŸ¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© æ ¸å¿ƒUIç»„ä»¶åº“ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰

### 6.1 è¯­è¨€åˆ‡æ¢ç»„ä»¶ â­ **æ ¸å¿ƒæ–°å¢**

#### è¯­è¨€åˆ‡æ¢æ ‡ç­¾
```css
.language-switcher {
  display: flex;
  background: var(--bg-primary);
  border-radius: var(--radius-lg);
  padding: var(--space-1);
  box-shadow: var(--shadow-sm);
  margin-bottom: var(--space-4);
}

.language-tab {
  flex: 1;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 600;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  background: transparent;
}

.language-tab.active {
  background: var(--primary-500);
  color: white;
  box-shadow: var(--shadow-sm);
}

.language-tab.inactive {
  color: var(--text-secondary);
}

.language-tab:hover:not(.active) {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

/* æ—¥è¯­å­—ä½“ä¼˜åŒ– */
.language-tab.japanese {
  font-family: 'Hiragino Sans', 'Meiryo', 'Yu Gothic', sans-serif;
}

.language-tab.romaji {
  font-family: 'SF Pro Display', -apple-system, sans-serif;
}
```

#### å¤šè¯­è¨€æ­Œè¯è¡Œç»„ä»¶
```css
.lyrics-line-container {
  margin-bottom: var(--space-4);
  padding: var(--space-3);
  border-radius: var(--radius-md);
  transition: all 0.3s ease;
}

.lyrics-line-container.current {
  background: rgba(59, 130, 246, 0.1);
  border-left: 4px solid var(--sync-500);
}

/* å•è¯­è¨€æ¨¡å¼ */
.lyrics-line-single {
  font-size: var(--text-xl);
  line-height: 1.6;
  text-align: center;
  padding: var(--space-3) 0;
}

.lyrics-line-single.kanji {
  font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif;
  font-weight: 500;
}

.lyrics-line-single.hiragana {
  font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
  font-weight: 400;
}

.lyrics-line-single.romaji {
  font-family: 'SF Pro Display', -apple-system, sans-serif;
  font-weight: 400;
  font-style: italic;
}

/* å­¦ä¹ æ¨¡å¼ï¼ˆä¸‰è¯­åŒæ˜¾ï¼‰ */
.lyrics-line-learning {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  text-align: center;
}

.lyrics-text-kanji {
  font-size: var(--text-xl);
  font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif;
  color: var(--text-primary);
  font-weight: 600;
}

.lyrics-text-hiragana {
  font-size: var(--text-lg);
  font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
  color: var(--text-secondary);
}

.lyrics-text-romaji {
  font-size: var(--text-base);
  font-family: 'SF Pro Display', -apple-system, sans-serif;
  color: var(--text-tertiary);
  font-style: italic;
}

/* KTVæ¨¡å¼å¤šè¯­è¨€ */
.ktv-lyrics-multilang {
  text-align: center;
  margin-bottom: var(--space-6);
}

.ktv-text-kanji {
  font-size: var(--text-ktv-xl);
  color: var(--ktv-text-current);
  font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif;
  font-weight: bold;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  margin-bottom: var(--space-2);
}

.ktv-text-hiragana {
  font-size: var(--text-ktv-lg);
  color: var(--ktv-text-next);
  font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
  opacity: 0.9;
  margin-bottom: var(--space-2);
}

.ktv-text-romaji {
  font-size: var(--text-ktv-md);
  color: var(--ktv-text-next);
  font-family: 'SF Pro Display', -apple-system, sans-serif;
  font-style: italic;
  opacity: 0.7;
}
```

### 6.2 æ—¥è¯­è¾“å…¥æ”¯æŒç»„ä»¶

#### æœç´¢æ¡†ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰
```css
.japanese-search-input {
  background: var(--bg-secondary);
  border: 2px solid var(--border-light);
  border-radius: var(--radius-full);
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  width: 100%;
  transition: all 0.2s ease;
  /* æ—¥è¯­è¾“å…¥æ³•ä¼˜åŒ– */
  ime-mode: auto;
  composition: auto;
}

.japanese-search-input:focus {
  border-color: var(--primary-500);
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
  outline: none;
}

.japanese-search-input::placeholder {
  color: var(--text-tertiary);
  font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
}

/* è¾“å…¥å»ºè®®ä¸‹æ‹‰ */
.search-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--bg-primary);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  max-height: 200px;
  overflow-y: auto;
  z-index: 1000;
}

.suggestion-item {
  padding: var(--space-3);
  cursor: pointer;
  border-bottom: 1px solid var(--border-light);
  transition: background 0.2s ease;
}

.suggestion-item:hover {
  background: var(--bg-secondary);
}

.suggestion-kanji {
  font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif;
  font-weight: 600;
  margin-bottom: var(--space-1);
}

.suggestion-reading {
  font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
  font-size: var(--text-sm);
  color: var(--text-secondary);
}
```

### 6.3 å­¦ä¹ è¿›åº¦ç»„ä»¶

#### å­¦ä¹ çŠ¶æ€æŒ‡ç¤ºå™¨
```css
.learning-status-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 600;
  font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
}

.learning-status-badge.not-started {
  background: var(--bg-tertiary);
  color: var(--text-secondary);
}

.learning-status-badge.learning {
  background: rgba(249, 115, 22, 0.1);
  color: var(--secondary-500);
}

.learning-status-badge.mastered {
  background: rgba(34, 197, 94, 0.1);
  color: #22c55e;
}

.progress-ring {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid currentColor;
  position: relative;
}

.progress-ring::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
  transform: translate(-50%, -50%);
}
```

### 6.4 æ”¶è—å¤¹åˆ†ç±»ç»„ä»¶

#### æ—¥è¯­åˆ†ç±»æ ‡ç­¾
```css
.japanese-category-tabs {
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
  overflow-x: auto;
  padding-bottom: var(--space-2);
}

.category-tab {
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  background: var(--bg-secondary);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: var(--text-sm);
  white-space: nowrap;
  border: 2px solid transparent;
  font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
}

.category-tab.active {
  background: var(--primary-500);
  color: white;
  border-color: var(--primary-600);
}

.category-tab:hover:not(.active) {
  background: var(--bg-primary);
  border-color: var(--border-medium);
}

/* ç‰¹å®šåˆ†ç±»æ ·å¼ */
.category-tab.j-pop {
  background: linear-gradient(135deg, #ff6b6b, #feca57);
  color: white;
}

.category-tab.anime {
  background: linear-gradient(135deg, #a8e6cf, #88d8c0);
  color: #2d3436;
}

.category-tab.learning {
  background: linear-gradient(135deg, #74b9ff, #0984e3);
  color: white;
}
```

---

## ğŸ¬ åŠ¨ç”»ä¸äº¤äº’ï¼ˆæ—¥è¯­ä¼˜åŒ–ï¼‰

### 7.1 è¯­è¨€åˆ‡æ¢åŠ¨ç”»

#### åˆ‡æ¢è¿‡æ¸¡æ•ˆæœ
```css
@keyframes language-switch {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.lyrics-line.switching {
  animation: language-switch 0.3s ease-out;
}

/* æ–‡å­—æ–¹å‘åŠ¨ç”» */
@keyframes text-reveal {
  0% {
    opacity: 0;
    filter: blur(3px);
  }
  100% {
    opacity: 1;
    filter: blur(0);
  }
}

.lyrics-text-entering {
  animation: text-reveal 0.5s ease-out;
}
```

#### æ—¥è¯­è¾“å…¥åŠ¨ç”»
```css
@keyframes ime-input {
  0% {
    border-color: var(--border-light);
  }
  50% {
    border-color: var(--primary-300);
  }
  100% {
    border-color: var(--primary-500);
  }
}

.japanese-input.composing {
  animation: ime-input 0.3s ease-in-out;
}
```

### 7.2 å­¦ä¹ åé¦ˆåŠ¨ç”»

#### æ­£ç¡®ç­”æ¡ˆåŠ¨ç”»
```css
@keyframes correct-answer {
  0% {
    transform: scale(1);
    background: var(--bg-primary);
  }
  50% {
    transform: scale(1.05);
    background: rgba(34, 197, 94, 0.1);
  }
  100% {
    transform: scale(1);
    background: var(--bg-primary);
  }
}

.lyrics-line.correct {
  animation: correct-answer 0.6s ease-out;
}
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–ï¼ˆæ—¥è¯­å¤„ç†ï¼‰

### 8.1 æ—¥è¯­å¤„ç†ä¼˜åŒ–

#### æ–‡æœ¬å¤„ç†ç¼“å­˜
```typescript
interface JapaneseCache {
  kanjiToHiragana: Map<string, string>
  hiraganaToRomaji: Map<string, string>
  lyricsConversions: Map<string, ConvertedLyrics>
}

class JapaneseCacheManager {
  private cache: JapaneseCache
  private maxCacheSize = 10000
  
  constructor() {
    this.cache = {
      kanjiToHiragana: new Map(),
      hiraganaToRomaji: new Map(),
      lyricsConversions: new Map()
    }
  }
  
  async getOrConvert(text: string, type: 'hiragana' | 'romaji'): Promise<string> {
    const cacheKey = `${type}:${text}`
    
    if (this.cache[`${type === 'hiragana' ? 'kanjiToHiragana' : 'hiraganaToRomaji'}`].has(text)) {
      return this.cache[`${type === 'hiragana' ? 'kanjiToHiragana' : 'hiraganaToRomaji'}`].get(text)!
    }
    
    // æ‰§è¡Œè½¬æ¢
    const result = await this.performConversion(text, type)
    
    // ç¼“å­˜ç»“æœ
    this.setCacheWithLRU(type === 'hiragana' ? this.cache.kanjiToHiragana : this.cache.hiraganaToRomaji, text, result)
    
    return result
  }
}
```

#### æ‰¹é‡å¤„ç†ä¼˜åŒ–
```typescript
class BatchJapaneseProcessor {
  async processLyricsBatch(lyrics: string[]): Promise<ConvertedLyrics[]> {
    // æ‰¹é‡å¤„ç†å‡å°‘APIè°ƒç”¨
    const batches = this.createBatches(lyrics, 10)
    const results = await Promise.all(
      batches.map(batch => this.processBatch(batch))
    )
    
    return results.flat()
  }
  
  private createBatches<T>(items: T[], batchSize: number): T[][] {
    const batches: T[][] = []
    for (let i = 0; i < items.length; i += batchSize) {
      batches.push(items.slice(i, i + batchSize))
    }
    return batches
  }
}
```

### 8.2 å­—ä½“åŠ è½½ä¼˜åŒ–

#### æ—¥è¯­å­—ä½“é¢„åŠ è½½
```css
/* å­—ä½“é¢„åŠ è½½ */
@font-face {
  font-family: 'Hiragino Sans';
  src: local('Hiragino Sans'),
       local('HiraginoSans-W3');
  font-display: swap;
}

@font-face {
  font-family: 'Hiragino Mincho ProN';
  src: local('Hiragino Mincho ProN'),
       local('HiraginoMincho-ProN-W3');
  font-display: swap;
}

/* å­—ä½“å›é€€ç­–ç•¥ */
.japanese-text {
  font-family: 
    'Hiragino Sans',
    'Meiryo',
    'Yu Gothic',
    'MS PGothic',
    sans-serif;
}

.japanese-serif {
  font-family:
    'Hiragino Mincho ProN',
    'Yu Mincho',
    'MS PMincho',
    serif;
}
```

---

## ğŸ›¡ï¸ å®‰å…¨ä¸éšç§ï¼ˆæ—¥è¯­æ•°æ®ä¿æŠ¤ï¼‰

### 9.1 æ—¥è¯­æ•°æ®å®‰å…¨
- **æ–‡æœ¬è„±æ•**: å‘é€ç»™AIçš„æ—¥è¯­æ–‡æœ¬è¿›è¡Œå¿…è¦çš„è„±æ•å¤„ç†
- **æœ¬åœ°å¤„ç†ä¼˜å…ˆ**: åŸºç¡€å‡åè½¬æ¢ä¼˜å…ˆä½¿ç”¨æœ¬åœ°Kuroshiroå¤„ç†
- **APIè°ƒç”¨åŠ å¯†**: DeepSeek APIè°ƒç”¨å…¨ç¨‹HTTPSåŠ å¯†
- **ç¼“å­˜åŠ å¯†**: æ•æ„Ÿæ—¥è¯­æ­Œè¯æ•°æ®ç¼“å­˜åŠ å¯†å­˜å‚¨

### 9.2 å­¦ä¹ æ•°æ®éšç§
```typescript
interface PrivacyPolicy {
  japaneseDataProcessing: {
    localFirst: 'ä¼˜å…ˆæœ¬åœ°æ—¥è¯­å¤„ç†ï¼Œå‡å°‘æ•°æ®ä¼ è¾“'
    aiProcessing: 'AIå¤„ç†çš„æ—¥è¯­æ•°æ®åŒ¿ååŒ–'
    learningData: 'å­¦ä¹ è¿›åº¦æ•°æ®æœ¬åœ°å­˜å‚¨ä¸ºä¸»'
    cachePolicy: 'æ—¥è¯­è½¬æ¢ç¼“å­˜å®šæœŸæ¸…ç†'
  }
  
  userLearningPrivacy: {
    progressData: 'å­¦ä¹ è¿›åº¦æ•°æ®ç”¨æˆ·å®Œå…¨æ§åˆ¶'
    exportOption: 'æ”¯æŒå­¦ä¹ æ•°æ®å¯¼å‡º'
    deleteOption: 'æ”¯æŒå®Œå…¨åˆ é™¤å­¦ä¹ è®°å½•'
  }
}
```

---

## ğŸš€ å¼€å‘è®¡åˆ’ä¸é‡Œç¨‹ç¢‘

### 10.1 å¼€å‘é˜¶æ®µ

| é˜¶æ®µ | æ—¶é—´ | ä¸»è¦ä»»åŠ¡ | äº¤ä»˜ç‰© |
|------|------|----------|---------|
| **æ—¥è¯­å¼•æ“é›†æˆ** | ç¬¬1-2å‘¨ | Kuroshiroé›†æˆï¼ŒMeCabé…ç½® | æ—¥è¯­å¤„ç†åŸºç¡€åŠŸèƒ½ |
| **æ ¸å¿ƒè¯†åˆ«å¼€å‘** | ç¬¬3-4å‘¨ | æ—¥è¯­éŸ³ä¹è¯†åˆ«ï¼ŒåŸºç¡€è½¬æ¢ | è¯†åˆ«+è½¬æ¢MVP |
| **å¤šè¯­è¨€æ˜¾ç¤º** | ç¬¬5-6å‘¨ | ä¸‰è¯­åˆ‡æ¢ç•Œé¢ï¼ŒKTVæ¨¡å¼ | å¤šè¯­è¨€æ˜¾ç¤ºå®Œæˆ |
| **AIä¼˜åŒ–é›†æˆ** | ç¬¬7-8å‘¨ | DeepSeekæ—¥è¯­ä¼˜åŒ–ï¼Œè´¨é‡æå‡ | AIä¼˜åŒ–ç‰ˆæœ¬ |
| **å­¦ä¹ åŠŸèƒ½** | ç¬¬9-10å‘¨ | å­¦ä¹ è¿›åº¦ï¼Œæ”¶è—åˆ†ç±» | å­¦ä¹ åŠŸèƒ½å®Œæ•´ç‰ˆ |
| **æ‰‹å¸åˆ›ä½œ** | ç¬¬11-12å‘¨ | æ—¥å¼æ‰‹å¸ï¼ŒAIåˆ›ä½œè¾…åŠ© | åˆ›ä½œåŠŸèƒ½å®Œæˆ |
| **æµ‹è¯•ä¼˜åŒ–** | ç¬¬13-14å‘¨ | æ—¥è¯­å¤„ç†æµ‹è¯•ï¼Œæ€§èƒ½ä¼˜åŒ– | æ­£å¼ç‰ˆæœ¬ |

### 10.2 é‡Œç¨‹ç¢‘

- [ ] **M1**: æ—¥è¯­å¤„ç†å¼•æ“é›†æˆå®Œæˆ (ç¬¬2å‘¨)
- [ ] **M2**: ä¸‰è¯­åˆ‡æ¢åŠŸèƒ½å®Œæˆ (ç¬¬6å‘¨)
- [ ] **M3**: AIæ—¥è¯­ä¼˜åŒ–å®Œæˆ (ç¬¬8å‘¨)
- [ ] **M4**: å­¦ä¹ ç®¡ç†åŠŸèƒ½å®Œæˆ (ç¬¬10å‘¨)
- [ ] **M5**: æ­£å¼ç‰ˆå‘å¸ƒ (ç¬¬14å‘¨)

---

## ğŸ’° å•†ä¸šæ¨¡å¼ä¸æˆæœ¬åˆ†æ

### 11.1 å˜ç°æ–¹å¼ï¼ˆæ—¥è¯­å­¦ä¹ å¯¼å‘ï¼‰
1. **å…è´¹å¢å€¼æ¨¡å¼**
   - åŸºç¡€è¯†åˆ«å’Œæ˜¾ç¤ºå…è´¹
   - é«˜çº§AIæ—¥è¯­å­¦ä¹ åŠŸèƒ½ä»˜è´¹ï¼ˆï¿¥29.9/æœˆï¼‰
   
2. **å­¦ä¹ æœåŠ¡åŒ…**
   - æ—¥è¯­å­¦ä¹ åŠ©æ‰‹ï¼ˆï¿¥19.9/æœˆï¼‰
   - ä¸“ä¸šç‰ˆAIè¯­æ³•åˆ†æï¼ˆï¿¥49.9/æœˆï¼‰
   
3. **å†…å®¹è®¢é˜…**
   - é«˜è´¨é‡æ—¥è¯­æ­Œè¯åº“ï¼ˆï¿¥9.9/æœˆï¼‰
   - ä¸“ä¸šå‡åæ ‡æ³¨æœåŠ¡ï¼ˆï¿¥15.9/æœˆï¼‰

### 11.2 æˆæœ¬åˆ†æ
- **DeepSeek APIæˆæœ¬**: é¢„ä¼°ï¿¥8000/æœˆï¼ˆæ—¥è¯­ä¼˜åŒ–å¤„ç†ï¼‰
- **Kuroshiroå¤„ç†æˆæœ¬**: æœ¬åœ°å¤„ç†ï¼ŒæœåŠ¡å™¨æˆæœ¬ï¿¥2000/æœˆ
- **é˜¿é‡Œäº‘æœåŠ¡æˆæœ¬**: é¢„ä¼°ï¿¥4000/æœˆ
- **æ—¥è¯­æ­Œè¯æ•°æ®æº**: é¢„ä¼°ï¿¥5000/æœˆ
- **å¼€å‘ç»´æŠ¤æˆæœ¬**: ï¿¥35000/æœˆ
- **æ€»é¢„ç®—**: ï¿¥54000/æœˆ

---

## ğŸ“š é™„å½•

### 13.1 æ—¥è¯­å¤„ç†æœ¯è¯­è¡¨
- **Kanji (æ¼¢å­—)**: æ—¥è¯­ä¸­çš„æ±‰å­—
- **Hiragana (ã²ã‚‰ãŒãª)**: æ—¥è¯­å¹³å‡å
- **Katakana (ã‚«ã‚¿ã‚«ãƒŠ)**: æ—¥è¯­ç‰‡å‡å
- **Romaji (ãƒ­ãƒ¼ãƒå­—)**: æ—¥è¯­ç½—é©¬éŸ³è½¬å†™
- **Furigana (æŒ¯ã‚Šä»®å)**: æ±‰å­—ä¸Šçš„å‡åæ³¨éŸ³
- **MeCab**: æ—¥è¯­å½¢æ€ç´ åˆ†æå™¨
- **Kuroshiro**: æ—¥è¯­æ–‡æœ¬è½¬æ¢åº“

### 13.2 æŠ€æœ¯å‚è€ƒ
- [Kuroshiro.jså®˜æ–¹æ–‡æ¡£](https://github.com/hexenq/kuroshiro)
- [MeCabå½¢æ€ç´ åˆ†æå™¨](https://taku910.github.io/mecab/)
- [WanaKanaæ—¥è¯­è½¬æ¢](https://github.com/WaniKani/WanaKana)
- [DeepSeek APIæ–‡æ¡£](https://api.deepseek.com/docs)

### 13.3 æ—¥è¯­æ­Œè¯æ•°æ®æº
- J-Lyric (æ­Œè©æ¤œç´¢)
- Uta-Net (ã†ãŸãƒãƒƒãƒˆ)
- PetitLyrics (ãƒ—ãƒãƒªãƒª)
- Animelyrics (ã‚¢ãƒ‹ãƒ¡æ­Œè©)

---

## 14. ğŸ”‘ ç³»ç»Ÿè®¿é—®ä¿¡æ¯

### 14.1 ç®¡ç†åå°è®¿é—®

#### åç«¯ç®¡ç†ç³»ç»Ÿ
- **è®¿é—®åœ°å€**: http://localhost:3000/admin
- **ç³»ç»Ÿé¦–é¡µ**: http://localhost:3000
- **API å¥åº·æ£€æŸ¥**: http://localhost:3000/api/health

#### é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·
- **é‚®ç®±**: admin@lyricnote.com
- **å¯†ç **: admin123456
- **è§’è‰²**: SUPER_ADMIN
- **æƒé™**: ç³»ç»Ÿå…¨éƒ¨ç®¡ç†æƒé™

#### æ•°æ®åº“ç®¡ç†
- **Prisma Studio**: `npm run db:studio`
- **è®¿é—®åœ°å€**: http://localhost:5555
- **åŠŸèƒ½**: å¯è§†åŒ–æ•°æ®åº“ç®¡ç†

### 14.2 å¼€å‘ç¯å¢ƒé…ç½®

#### ç§»åŠ¨ç«¯åº”ç”¨
- **Expo å¼€å‘æœåŠ¡å™¨**: http://localhost:8081
- **å¯åŠ¨å‘½ä»¤**: `cd LyricNoteApp && npx expo start`
- **çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ

#### åç«¯æœåŠ¡
- **Next.js å¼€å‘æœåŠ¡å™¨**: http://localhost:3000
- **å¯åŠ¨å‘½ä»¤**: `cd lyricnote-backend && npm run dev`
- **çŠ¶æ€**: âœ… å·²å®Œæˆæ„å»º

### 14.3 é¡¹ç›®ç»“æ„æ¦‚è§ˆ

```
LyricNote/
â”œâ”€â”€ LyricNoteApp/                    # React Native ç§»åŠ¨ç«¯
â”‚   â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ screens/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ navigation/            # å¯¼èˆªé…ç½®
â”‚   â”‚   â”œâ”€â”€ constants/             # å¸¸é‡é…ç½®
â”‚   â”‚   â””â”€â”€ types/                 # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ package.json               # ä¾èµ–é…ç½®
â”‚
â”œâ”€â”€ lyricnote-backend/              # Next.js åç«¯ç³»ç»Ÿ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                   # Next.js App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ api/              # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/            # ç®¡ç†åå°é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # ç³»ç»Ÿé¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ lib/                   # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ prisma/                    # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ schema.prisma         # æ•°æ®åº“æ¨¡å¼
â”‚   â”‚   â””â”€â”€ seed.ts               # åˆå§‹æ•°æ®
â”‚   â””â”€â”€ README.md                  # åç«¯æ–‡æ¡£
â”‚
â”œâ”€â”€ LyricNote-Comprehensive-Project-Document.md  # å®Œæ•´é¡¹ç›®æ–‡æ¡£
â””â”€â”€ LyricNote-High-Fidelity-Prototype.html      # é«˜ä¿çœŸåŸå‹
```

### 14.4 å¿«é€Ÿå¯åŠ¨æŒ‡å—

#### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd lyricnote-backend
npm run dev
```

#### 2. è®¿é—®ç®¡ç†åå°
- æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3000/admin
- ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•

#### 3. å¯åŠ¨ç§»åŠ¨ç«¯
```bash
cd LyricNoteApp
npx expo start
```

#### 4. æµ‹è¯• API æœåŠ¡
- å¥åº·æ£€æŸ¥: http://localhost:3000/api/health
- API æ–‡æ¡£: æŸ¥çœ‹ README.md

### 14.5 é‡è¦æé†’

âš ï¸ **å®‰å…¨æ³¨æ„äº‹é¡¹**:
- ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
- é…ç½®å¼ºå¯†ç ç­–ç•¥å’ŒåŒå› ç´ è®¤è¯
- å®šæœŸæ›´æ–° JWT_SECRET ç­‰å®‰å…¨å¯†é’¥

ğŸ“‹ **å¼€å‘æé†’**:
- ç®¡ç†å‘˜è´¦æˆ·ç”±æ•°æ®åº“ç§å­è„šæœ¬è‡ªåŠ¨åˆ›å»º
- å¦‚éœ€é‡ç½®ï¼Œè¿è¡Œ `npm run db:seed`
- æ‰€æœ‰æ•æ„Ÿä¿¡æ¯è¯·ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®

---

*æ–‡æ¡£ç‰ˆæœ¬: v3.1*  
*æœ€åæ›´æ–°: 2025å¹´9æœˆ22æ—¥*  
*ä¸“æ³¨æ—¥è¯­æ­Œæ›²çš„å®Œæ•´æŠ€æœ¯è§£å†³æ–¹æ¡ˆ*
