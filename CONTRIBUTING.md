# è´¡çŒ®æŒ‡å— | Contributing Guide

æ„Ÿè°¢ä½ è€ƒè™‘ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®ï¼

## ğŸš€ å¼€å§‹ä¹‹å‰

åœ¨å¼€å§‹è´¡çŒ®ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. å·²é˜…è¯»é¡¹ç›®çš„ [README.md](./README.md)
2. äº†è§£é¡¹ç›®çš„æ¶æ„å’ŒæŠ€æœ¯æ ˆ
3. æŸ¥çœ‹ç°æœ‰çš„ [Issues](https://github.com/your-org/your-app/issues) å’Œ
   [Pull Requests](https://github.com/your-org/your-app/pulls)

## ğŸ“‹ å¼€å‘ç¯å¢ƒè®¾ç½®

### 1. Fork å’Œ Clone é¡¹ç›®

```bash
# Fork é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦æˆ·
# ç„¶å clone ä½ çš„ fork
git clone https://github.com/YOUR_USERNAME/your-app.git
cd your-app

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/your-org/your-app.git
```

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£… pnpmï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
npm install -g pnpm

# å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp packages/backend/.env.example packages/backend/.env.local

# ç¼–è¾‘ç¯å¢ƒå˜é‡
nano packages/backend/.env.local
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
pnpm devdb:generate
pnpm devdb:push
```

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨åç«¯
pnpm dev:backend

# æˆ–å¯åŠ¨æ‰€æœ‰æœåŠ¡
pnpm dev
```

## ğŸ”€ å·¥ä½œæµç¨‹

### 1. åˆ›å»ºæ–°åˆ†æ”¯

å§‹ç»ˆä»æœ€æ–°çš„ `main` åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ï¼š

```bash
# æ›´æ–°æœ¬åœ° main åˆ†æ”¯
git checkout main
git pull upstream main

# åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name

# æˆ–è€…ä¿®å¤ bug
git checkout -b fix/bug-description
```

### 2. åˆ†æ”¯å‘½åè§„èŒƒ

- `feature/` - æ–°åŠŸèƒ½
- `fix/` - Bug ä¿®å¤
- `docs/` - æ–‡æ¡£æ›´æ–°
- `refactor/` - ä»£ç é‡æ„
- `test/` - æµ‹è¯•ç›¸å…³
- `chore/` - æ„å»º/å·¥å…·é…ç½®ç­‰

ç¤ºä¾‹ï¼š

- `feature/add-user-profile`
- `fix/login-error`
- `docs/update-readme`

### 3. ç¼–ç è§„èŒƒ

#### TypeScript/JavaScript

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- å˜é‡å’Œå‡½æ•°ä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½å
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£

```typescript
// âœ… å¥½çš„ç¤ºä¾‹
interface UserProfile {
  id: string;
  name: string;
  email: string;
}

async function getUserProfile(userId: string): Promise<UserProfile> {
  // è·å–ç”¨æˆ·èµ„æ–™
  const user = await db.query.users.findFirst({
    where: eq(users.id, userId),
  });

  return user;
}

// âŒ ä¸å¥½çš„ç¤ºä¾‹
async function get(id: string): Promise<any> {
  const u = await db.query.users.findFirst({
    where: eq(users.id, id),
  });
  return u;
}
```

#### ç»„ä»¶è§„èŒƒ

```tsx
// âœ… React ç»„ä»¶ç¤ºä¾‹
import React from 'react';

interface ButtonProps {
  onClick: () => void;
  children: React.ReactNode;
  variant?: 'primary' | 'secondary';
}

export const Button: React.FC<ButtonProps> = ({
  onClick,
  children,
  variant = 'primary',
}) => {
  return (
    <button onClick={onClick} className={`btn btn-${variant}`}>
      {children}
    </button>
  );
};
```

### 4. æäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯ï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

#### Type ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- `perf`: æ€§èƒ½ä¼˜åŒ–

#### ç¤ºä¾‹

```bash
# æ–°åŠŸèƒ½
git commit -m "feat(auth): æ·»åŠ  OAuth ç™»å½•æ”¯æŒ"

# Bug ä¿®å¤
git commit -m "fix(api): ä¿®å¤ç”¨æˆ·æ³¨å†Œæ—¶çš„éªŒè¯é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs(readme): æ›´æ–°å®‰è£…è¯´æ˜"

# é‡æ„
git commit -m "refactor(database): ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½"
```

### 5. ä»£ç æ£€æŸ¥

åœ¨æäº¤å‰ï¼Œä»£ç ä¼šè‡ªåŠ¨é€šè¿‡ lint-staged è¿›è¡Œæ£€æŸ¥ï¼š

```bash
# æ‰‹åŠ¨è¿è¡Œæ£€æŸ¥
pnpm lint
pnpm format:check

# è‡ªåŠ¨ä¿®å¤
pnpm format
```

### 6. æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œç‰¹å®šåŒ…çš„æµ‹è¯•
pnpm test:backend
pnpm test:mobile
```

### 7. æäº¤ Pull Request

```bash
# æ¨é€ä½ çš„åˆ†æ”¯
git push origin feature/your-feature-name
```

ç„¶ååœ¨ GitHub ä¸Šåˆ›å»º Pull Requestï¼š

1. å¡«å†™ PR æ¨¡æ¿ä¸­çš„æ‰€æœ‰å¿…è¦ä¿¡æ¯
2. æè¿°ä½ çš„æ›´æ”¹å’ŒåŸå› 
3. å…³è”ç›¸å…³çš„ Issueï¼ˆå¦‚æœæœ‰ï¼‰
4. ç­‰å¾…ä»£ç å®¡æŸ¥

## ğŸ“ Pull Request è¦æ±‚

### PR æ¨¡æ¿

```markdown
## å˜æ›´æè¿°

<!-- ç®€è¦æè¿°ä½ çš„æ›´æ”¹ -->

## å˜æ›´ç±»å‹

- [ ] æ–°åŠŸèƒ½
- [ ] Bug ä¿®å¤
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] ä»£ç é‡æ„
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å…¶ä»–

## æµ‹è¯•

- [ ] å·²é€šè¿‡æ‰€æœ‰ç°æœ‰æµ‹è¯•
- [ ] å·²æ·»åŠ æ–°çš„æµ‹è¯•
- [ ] å·²æ‰‹åŠ¨æµ‹è¯•

## ç›¸å…³ Issue

<!-- å…³è”çš„ Issue ç¼–å·ï¼Œå¦‚ï¼šCloses #123 -->

## æˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰

<!-- æ·»åŠ æˆªå›¾æ¥è¯´æ˜ä½ çš„æ›´æ”¹ -->

## æ£€æŸ¥æ¸…å•

- [ ] ä»£ç éµå¾ªé¡¹ç›®çš„ç¼–ç è§„èŒƒ
- [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] å·²æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- [ ] æ²¡æœ‰å¼•å…¥æ–°çš„è­¦å‘Š
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
```

### PR å®¡æŸ¥æ ‡å‡†

ä½ çš„ PR å°†æ ¹æ®ä»¥ä¸‹æ ‡å‡†è¿›è¡Œå®¡æŸ¥ï¼š

1. **ä»£ç è´¨é‡**
   - éµå¾ªé¡¹ç›®çš„ç¼–ç è§„èŒƒ
   - ä»£ç æ¸…æ™°ã€å¯è¯»
   - é€‚å½“çš„é”™è¯¯å¤„ç†

2. **åŠŸèƒ½æ€§**
   - å®ç°äº†é¢„æœŸåŠŸèƒ½
   - æ²¡æœ‰ç ´åç°æœ‰åŠŸèƒ½
   - è¾¹ç•Œæƒ…å†µå¤„ç†æ­£ç¡®

3. **æµ‹è¯•**
   - åŒ…å«å¿…è¦çš„æµ‹è¯•
   - æµ‹è¯•è¦†ç›–ç‡åˆç†
   - æ‰€æœ‰æµ‹è¯•é€šè¿‡

4. **æ–‡æ¡£**
   - å¿…è¦çš„ä»£ç æ³¨é‡Š
   - æ›´æ–°ç›¸å…³æ–‡æ¡£
   - README æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰

5. **æ€§èƒ½**
   - æ²¡æœ‰æ˜æ˜¾çš„æ€§èƒ½é—®é¢˜
   - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
   - åˆç†çš„èµ„æºä½¿ç”¨

## ğŸ› æŠ¥å‘Š Bug

### ä½¿ç”¨ Issue æ¨¡æ¿

åˆ›å»º Bug æŠ¥å‘Šæ—¶ï¼Œè¯·åŒ…å«ï¼š

1. **ç¯å¢ƒä¿¡æ¯**
   - æ“ä½œç³»ç»Ÿ
   - Node.js ç‰ˆæœ¬
   - pnpm ç‰ˆæœ¬
   - æµè§ˆå™¨ç‰ˆæœ¬ï¼ˆå¦‚é€‚ç”¨ï¼‰

2. **å¤ç°æ­¥éª¤**
   - è¯¦ç»†çš„æ­¥éª¤è¯´æ˜
   - é¢„æœŸè¡Œä¸º
   - å®é™…è¡Œä¸º

3. **é”™è¯¯æ—¥å¿—**
   - å®Œæ•´çš„é”™è¯¯å †æ ˆ
   - ç›¸å…³æ—¥å¿—

4. **æˆªå›¾/å½•å±**ï¼ˆå¦‚é€‚ç”¨ï¼‰

### Bug æŠ¥å‘Šç¤ºä¾‹

````markdown
## Bug æè¿°

ç”¨æˆ·ç™»å½•åï¼Œä¸ªäººèµ„æ–™é¡µé¢æ˜¾ç¤º 404 é”™è¯¯

## ç¯å¢ƒ

- OS: macOS 13.0
- Node: 18.17.0
- pnpm: 8.15.0
- Browser: Chrome 120.0

## å¤ç°æ­¥éª¤

1. æ‰“å¼€åº”ç”¨
2. ä½¿ç”¨æœ‰æ•ˆå‡­è¯ç™»å½•
3. ç‚¹å‡»å¯¼èˆªæ çš„"ä¸ªäººèµ„æ–™"é“¾æ¥
4. çœ‹åˆ° 404 é”™è¯¯é¡µé¢

## é¢„æœŸè¡Œä¸º

åº”è¯¥æ˜¾ç¤ºç”¨æˆ·çš„ä¸ªäººèµ„æ–™é¡µé¢

## å®é™…è¡Œä¸º

æ˜¾ç¤º 404 é”™è¯¯é¡µé¢

## é”™è¯¯æ—¥å¿—

\``` Error: Page not found at Router.push (/src/router.ts:45) ... \```

## æˆªå›¾

[é™„ä¸Šæˆªå›¾]
````

## ğŸ’¡ æè®®æ–°åŠŸèƒ½

### åŠŸèƒ½è¯·æ±‚æ¨¡æ¿

```markdown
## åŠŸèƒ½æè¿°

<!-- ç®€è¦æè¿°æ–°åŠŸèƒ½ -->

## ä½¿ç”¨åœºæ™¯

<!-- ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Ÿè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ -->

## å»ºè®®çš„å®ç°æ–¹æ¡ˆ

<!-- ä½ è®¤ä¸ºåº”è¯¥å¦‚ä½•å®ç°ï¼Ÿ -->

## æ›¿ä»£æ–¹æ¡ˆ

<!-- æ˜¯å¦æœ‰å…¶ä»–å¯è¡Œçš„æ–¹æ¡ˆï¼Ÿ -->

## é™„åŠ ä¿¡æ¯

<!-- å…¶ä»–ç›¸å…³ä¿¡æ¯ -->
```

## ğŸ“š æ–‡æ¡£è´¡çŒ®

æ–‡æ¡£åŒæ ·é‡è¦ï¼ä½ å¯ä»¥å¸®åŠ©ï¼š

- ä¿®å¤æ–‡æ¡£ä¸­çš„é”™è¯¯
- æ”¹è¿›ç°æœ‰æ–‡æ¡£çš„æ¸…æ™°åº¦
- æ·»åŠ ç¤ºä¾‹å’Œæ•™ç¨‹
- ç¿»è¯‘æ–‡æ¡£

## ğŸ¨ è®¾è®¡è´¡çŒ®

å¦‚æœä½ æœ‰è®¾è®¡æŠ€èƒ½ï¼Œå¯ä»¥è´¡çŒ®ï¼š

- UI/UX æ”¹è¿›å»ºè®®
- å›¾æ ‡å’Œæ’å›¾
- å“ç‰Œèµ„æº
- ç”¨æˆ·ä½“éªŒä¼˜åŒ–

## â“ è·å–å¸®åŠ©

å¦‚æœä½ åœ¨è´¡çŒ®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [FAQ](./docs/faq.md)
2. æœç´¢ç°æœ‰çš„ [Issues](https://github.com/your-org/your-app/issues)
3. åœ¨ [Discussions](https://github.com/your-org/your-app/discussions) æé—®
4. è”ç³»ç»´æŠ¤è€…

## ğŸ“œ è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ ä¸€ä¸ªå¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š

- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- æ¥å—å»ºè®¾æ€§çš„æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

### ä¸å¯æ¥å—çš„è¡Œä¸º

- ä½¿ç”¨æ€§åŒ–çš„è¯­è¨€æˆ–å›¾åƒ
- äººèº«æ”»å‡»æˆ–è´¬æŸè¯„è®º
- éªšæ‰°ï¼ˆå…¬å¼€æˆ–ç§ä¸‹ï¼‰
- æœªç»è®¸å¯å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–ä¸é“å¾·æˆ–ä¸ä¸“ä¸šçš„è¡Œä¸º

## ğŸ“„ è®¸å¯è¯

é€šè¿‡è´¡çŒ®ï¼Œä½ åŒæ„ä½ çš„è´¡çŒ®å°†åœ¨ä¸é¡¹ç›®ç›¸åŒçš„ MIT è®¸å¯è¯ä¸‹æˆæƒã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ä½ çš„è´¡çŒ®ï¼Œæ— è®ºå¤§å°ï¼Œéƒ½å¯¹é¡¹ç›®çš„æˆåŠŸè‡³å…³é‡è¦ã€‚

---

å†æ¬¡æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼ğŸ‰
